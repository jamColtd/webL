import{r as S}from"./react-58122654.js";import{r as Fe}from"./react-dom-694a72f5.js";import{l as it}from"./kits-js-e7c5882e.js";import{m as R}from"./mapv-0f52a7c9.js";import{m as Ye}from"./mapvgl-8c654c34.js";var ot={},re={},O={};Object.defineProperty(O,"__esModule",{value:!0});var at=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ut=S.exports;function lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ft(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var st=function(t){pt(e,t);function e(i){return lt(this,e),ft(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i))}return at(e,[{key:"bindEvent",value:function(n,r){var o=this;r&&r.forEach(function(a){n.addEventListener(a,function(){o.props.events&&o.props.events[a]&&o.props.events[a].apply(o,arguments)})})}},{key:"bindToggleMeghods",value:function(n,r){for(var o in r)this.props[o]!==void 0&&(this.props[o]?n[r[o][0]]():n[r[o][1]]())}},{key:"getOptions",value:function(n){var r=this,o={};return n.map(function(a){r.props[a]!==void 0&&(o[a]=r.props[a])}),o}},{key:"render",value:function(){return null}}]),e}(ut.Component);O.default=st;var ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.isString=function(e){return Object.prototype.toString.call(e)==="[object String]"};Object.defineProperty(re,"__esModule",{value:!0});var ct=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ht=S.exports,J=Xe(ht),yt=O,dt=Xe(yt),Ue=ie;function Xe(t){return t&&t.__esModule?t:{default:t}}function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _t=function(t){gt(e,t);function e(i){return vt(this,e),mt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i))}return ct(e,[{key:"componentDidMount",value:function(){this.initMap(),this.forceUpdate()}},{key:"componentDidUpdate",value:function(n){var r=n.center,o=this.props.center;if((0,Ue.isString)(o))r!=o&&this.map.centerAndZoom(o);else{var a=r&&o&&(r.lng!=o.lng||r.lat!=o.lat||this.props.forceUpdate),u=n.zoom!==this.props.zoom&&(this.props.zoom||this.props.forceUpdate),o=new BMap.Point(o.lng,o.lat);a&&u?this.map.centerAndZoom(o,this.props.zoom):a?this.map.setCenter(o):u&&this.map.zoomTo(this.props.zoom)}}},{key:"initMap",value:function(){var n=this,r=this.options;r=this.getOptions(r),this.props.enableMapClick!==!0&&(r.enableMapClick=!1);var o=new BMap.Map(this.refs.map,r);this.map=o;var a=this.props.zoom;if(this.bindEvent(o,this.events),(0,Ue.isString)(this.props.center))o.centerAndZoom(this.props.center);else{var u=new BMap.Point(this.props.center.lng,this.props.center.lat);o.centerAndZoom(u,a)}this.props.mapStyleV2?o.setMapStyleV2(this.props.mapStyleV2):this.props.mapStyle&&o.setMapStyle(this.props.mapStyle),this.bindToggleMeghods(o,this.toggleMethods);var l=a;o.addEventListener("zoomend",function(){var f=o.getZoom();n.props.zoom_changed&&n.props.zoom_changed(f,l),l=f})}},{key:"renderChildren",value:function(){var n=this,r=this.props.children;if(!(!r||!this.map))return J.default.Children.map(r,function(o){if(!!o)return typeof o.type=="string"?o:J.default.cloneElement(o,{map:n.map})})}},{key:"onRender",value:function(){if(!(!this.props.render||!this.map))return this.props.render(this.map)}},{key:"render",value:function(){var n={height:"100%",position:"relative"};for(var r in this.props.style)n[r]=this.props.style[r];return J.default.createElement("div",{style:n,key:this.props.keys},J.default.createElement("div",{ref:"map",className:this.props.className,style:{height:"100%"}},"\u52A0\u8F7D\u5730\u56FE\u4E2D..."),this.renderChildren(),this.onRender())}},{key:"events",get:function(){return["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"]}},{key:"toggleMethods",get:function(){return{enableScrollWheelZoom:["enableScrollWheelZoom","disableScrollWheelZoom"],enableDragging:["enableDragging","disableDragging"],enableDoubleClickZoom:["enableDoubleClickZoom","disableDoubleClickZoom"],enableKeyboard:["enableKeyboard","disableKeyboard"],enableInertialDragging:["enableInertialDragging","disableInertialDragging"],enableContinuousZoom:["enableContinuousZoom","disableContinuousZoom"],enablePinchToZoom:["enablePinchToZoom","disablePinchToZoom"],enableAutoResize:["enableAutoResize","disableAutoResize"]}}},{key:"options",get:function(){return["minZoom","maxZoom","mapType","enableMapClick"]}}],[{key:"defaultProps",get:function(){return{style:{height:"350px"}}}}]),e}(dt.default);re.default=_t;var G={},H={};Object.defineProperty(H,"__esModule",{value:!0});var bt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},wt=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ot=S.exports,D=Ge(Ot),kt=G,Mt=Ge(kt),F=it;function Ge(t){return t&&t.__esModule?t:{default:t}}function Pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function St(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Dt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Lt=function(t){Dt(e,t);function e(i){Pt(this,e);var n=St(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.createMarker=n.createMarker.bind(n),n.state={},n}return wt(e,[{key:"componentDidUpdate",value:function(n){var r=JSON.stringify(n.data),o=JSON.stringify(this.props.data);r!=o||this.map}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"createMarker",value:function(){var n=this,r=this.props,o=r.position,a=r.num,u=r.rate,l=r.name,f=r.rightModule,s=r.order,p=r.visible,c=p===void 0?!0:p,h=F.bmap.createPoint(o),m=!0;u&&(u.indexOf("-")>-1&&(m=!1,u=u.replace(/-/,"")),u.indexOf("+")>-1&&(m=!0,u=u.replace("+","")),u.length==0&&(u="_"));var _={display:"flex",justifyContent:"space-between",background:"#FFFFFF",alignItems:"stretch",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, 0.22)",borderRadius:"3px 0 0 3px",minWidth:"155px",minHeight:"50px",marginTop:"-25px"},y={minWidth:"30px",background:"#999999",color:"white",padding:"auto 0",display:"flex",justifyContent:"center",alignItems:"center"};this.props.active&&(y.background="#F5533D"),this.props.leftStyle&&(y=F.obj.merge(y,this.props.leftStyle)),this.props.style&&(_=F.obj.merge(_,this.props.style));var g={flex:"1",padding:"6px",justifyContent:"center",alignItems:"center",fontSize:"12px",color:"#8D93A3",letterSpacing:"0.6px"};this.props.rightStyle&&(g=F.obj.merge(g,this.props.rightStyle));var b=Object.keys(n.props).filter(function(k){return k.indexOf("on")==0}),w=[];if(b.map(function(k){w[k]=n.props[k]}),c)return D.default.createElement(Mt.default,{key:JSON.stringify(h)+Math.random(),map:this.props.map,position:h,zIndex:n.props.zIndex},D.default.createElement("div",bt({key:JSON.stringify(h)+Math.random(),style:_},w),D.default.createElement("div",{style:y},s),D.default.createElement("div",{style:g},!f&&D.default.createElement("div",null,"  ",a+"("+u,m?D.default.createElement("img",{style:{width:"8px",height:"auto",margin:"1px"},src:"//huiyan.baidu.com/cms/react-bmap/up.png"}):D.default.createElement("img",{style:{width:"8px",height:"auto",margin:"1px"},src:"//huiyan.baidu.com/cms/react-bmap/down.png"}),")"),f||D.default.createElement("div",null,"  ",l," "))))}},{key:"render",value:function(){var n=this.createMarker();return n}}],[{key:"defaultProps",get:function(){return{autoViewport:!0}}}]),e}(D.default.Component);H.default=Lt;var oe={};Object.defineProperty(oe,"__esModule",{value:!0});function K(t,e,i){this.options=i||{},this._point=t,this.content=e}K.prototype=new BMap.Overlay;K.prototype.initialize=function(t){this._map=t;var e=this._div=document.createElement("div");e.setAttribute("tag","customoverlay"),e.style.position="absolute";var i=this.options.zIndex||BMap.Overlay.getZIndex(this._point.lat);e.style.zIndex=i,e.addEventListener("touchstart",function(r){r.stopPropagation(),console.log("touchstart")}),e.addEventListener("touchend",function(r){r.stopPropagation(),console.log("touchend")}),Object.prototype.toString.call(this.content)=="[object String]"?e.innerHTML=this.content:e.appendChild(this.content);var n=this.options.pane||"labelPane";return t.getPanes()[n].appendChild(e),e};K.prototype.draw=function(){var t=this._map,e=t.pointToOverlayPixel(this._point),i=this.options.offset||new BMap.Size(0,0);this._div.style.left=e.x+i.width+"px",this._div.style.top=e.y+i.height+"px"};oe.default=K;Object.defineProperty(G,"__esModule",{value:!0});var xt=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),$t=S.exports,We=Q($t),Tt=Fe.exports,zt=O,Et=Q(zt),Rt=H,jt=Q(Rt),Bt=oe,Ut=Q(Bt);function Q(t){return t&&t.__esModule?t:{default:t}}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function It(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $=window.Huiyan_Makers_IMG||"//huiyan.baidu.com/cms/react-bmap/markers_new2x_fbb9e99.png",V={simple_red:new BMap.Icon($,new BMap.Size(42/2,66/2),{imageOffset:new BMap.Size(-454/2,-378/2),anchor:new BMap.Size(42/2/2,66/2),imageSize:new BMap.Size(600/2,600/2)}),simple_blue:new BMap.Icon($,new BMap.Size(42/2,66/2),{imageOffset:new BMap.Size(-454/2,-450/2),anchor:new BMap.Size(42/2/2,66/2),imageSize:new BMap.Size(600/2,600/2)}),loc_red:new BMap.Icon($,new BMap.Size(46/2,70/2),{imageOffset:new BMap.Size(-400/2,-378/2),anchor:new BMap.Size(46/2/2,70/2),imageSize:new BMap.Size(600/2,600/2)}),loc_blue:new BMap.Icon($,new BMap.Size(46/2,70/2),{imageOffset:new BMap.Size(-400/2,-450/2),anchor:new BMap.Size(46/2/2,70/2),imageSize:new BMap.Size(600/2,600/2)}),start:new BMap.Icon($,new BMap.Size(50/2,80/2),{imageOffset:new BMap.Size(-400/2,-278/2),anchor:new BMap.Size(50/2/2,80/2),imageSize:new BMap.Size(600/2,600/2)}),end:new BMap.Icon($,new BMap.Size(50/2,80/2),{imageOffset:new BMap.Size(-450/2,-278/2),anchor:new BMap.Size(50/2/2,80/2),imageSize:new BMap.Size(600/2,600/2)}),location:new BMap.Icon($,new BMap.Size(28/2,40/2),{imageOffset:new BMap.Size(-248/2,-466/2),anchor:new BMap.Size(28/2/2,40/2),imageSize:new BMap.Size(600/2,600/2)})};for(var T=1;T<=10;T++)V["red"+T]=new BMap.Icon($,new BMap.Size(42/2,66/2),{imageOffset:new BMap.Size(0-42/2*(T-1),0),anchor:new BMap.Size(42/2/2,66/2),imageSize:new BMap.Size(600/2,600/2)});for(var T=1;T<=10;T++)V["blue"+T]=new BMap.Icon($,new BMap.Size(42/2,66/2),{imageOffset:new BMap.Size(0-42/2*(T-1),-132/2),anchor:new BMap.Size(42/2/2,66/2),imageSize:new BMap.Size(600/2,600/2)});var qt=function(t){Vt(e,t);function e(i){Wt(this,e);var n=It(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.state={},n}return xt(e,[{key:"componentDidUpdate",value:function(n){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.marker&&(this.props.map.removeOverlay(this.marker),this.marker=null)}},{key:"initialize",value:function(){var n=this.props.map,r=this.props.type;if(!(r=="order_tip"||!n)){this.destroy();var o,a=this.props.icon;if(a&&a instanceof BMap.Icon?o=a:a&&V[a]?o=V[a]:o=V.simple_red,this.props.coordType==="bd09mc")var u=n.getMapType().getProjection(),l=u.pointToLngLat(new BMap.Pixel(this.props.position.lng,this.props.position.lat));else var l=new BMap.Point(this.props.position.lng,this.props.position.lat);if("children"in this.props){this.contentDom=document.createElement("div");var f=this.props.children;(0,Tt.render)(We.default.createElement("div",null,f),this.contentDom),this.marker=new Ut.default(l,this.contentDom,{zIndex:this.props.zIndex,pane:this.props.pane,offset:this.props.offset}),n.addOverlay(this.marker)}else{var s=this.getOptions(this.options);s.icon=o,this.marker=new BMap.Marker(l,s),this.props.isTop&&this.marker.setTop(!0),this.bindEvent(this.marker,this.events),n.addOverlay(this.marker),this.bindToggleMeghods(this.marker,this.toggleMethods)}this.props.autoViewport&&n.setViewport([l],this.props.ViewportOptions)}}},{key:"render",value:function(){var n=this.props.type;return n=="order_tip"?We.default.createElement(jt.default,this.props):null}},{key:"events",get:function(){return["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"]}},{key:"toggleMethods",get:function(){return{enableMassClear:["enableMassClear","disableMassClear"],enableDragging:["enableDragging","disableDragging"]}}},{key:"options",get:function(){return["offset","icon","enableMassClear","enableDragging","enableClicking","raiseOnDrag","draggingCursor","rotation","shadow","title"]}}],[{key:"defaultProps",get:function(){return{}}}]),e}(Et.default);G.default=qt;var ae={};Object.defineProperty(ae,"__esModule",{value:!0});var At=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Nt=Fe.exports,Zt=O,Jt=Ft(Zt);function Ft(t){return t&&t.__esModule?t:{default:t}}function Yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Gt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ht=function(t){Gt(e,t);function e(i){Yt(this,e);var n=Xt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.state={},n}return At(e,[{key:"componentDidUpdate",value:function(n){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.props.map.closeInfoWindow(),this.infoWindow=null}},{key:"initialize",value:function(){var n=this.props.map;if(!!n&&(this.destroy(),this.infoWindow=new BMap.InfoWindow(this.props.text||"",this.getOptions(this.options)),this.bindEvent(this.infoWindow,this.events),n.openInfoWindow(this.infoWindow,new BMap.Point(this.props.position.lng,this.props.position.lat)),"children"in this.props)){var r=document.createElement("div");(0,Nt.render)(this.props.children,r),this.infoWindow.setContent(r)}}},{key:"options",get:function(){return["width","height","maxWidth","offset","title","enableAutoPan","enableCloseOnClick","enableMessage","message"]}},{key:"events",get:function(){return["close","open","maximize","restore","clickclose"]}}]),e}(Jt.default);ae.default=Ht;var ue={},j={};Object.defineProperty(j,"__esModule",{value:!0});var Kt=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Qt=O,Ct=en(Qt);function en(t){return t&&t.__esModule?t:{default:t}}function tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function rn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var on=function(t){rn(e,t);function e(i){tn(this,e);var n=nn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.state={},n}return Kt(e,[{key:"componentDidUpdate",value:function(n){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.props.map.removeControl(this.control),this.control=null}},{key:"initialize",value:function(){var n=this.props.map;!n||(this.destroy(),this.control=this.getControl(),n.addControl(this.control))}},{key:"getControl",value:function(){return null}}]),e}(Ct.default);j.default=on;Object.defineProperty(ue,"__esModule",{value:!0});var an=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),un=j,ln=fn(un);function fn(t){return t&&t.__esModule?t:{default:t}}function pn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hn=function(t){cn(e,t);function e(i){return pn(this,e),sn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i))}return an(e,[{key:"getControl",value:function(){return new BMap.NavigationControl(this.getOptions(this.options))}},{key:"options",get:function(){return["anchor","offset","type","showZoomInfo","enableGeolocation"]}}]),e}(ln.default);ue.default=hn;var le={};Object.defineProperty(le,"__esModule",{value:!0});var yn=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),dn=j,vn=mn(dn);function mn(t){return t&&t.__esModule?t:{default:t}}function gn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wn=function(t){bn(e,t);function e(i){return gn(this,e),_n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i))}return yn(e,[{key:"getControl",value:function(){return new BMap.OverviewMapControl(this.getOptions(this.options))}},{key:"options",get:function(){return["anchor","offset","size","isOpen"]}}]),e}(vn.default);le.default=wn;var fe={};Object.defineProperty(fe,"__esModule",{value:!0});var On=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),kn=j,Mn=Pn(kn);function Pn(t){return t&&t.__esModule?t:{default:t}}function Sn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ln(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xn=function(t){Ln(e,t);function e(i){return Sn(this,e),Dn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i))}return On(e,[{key:"getControl",value:function(){return new BMap.ScaleControl(this.getOptions(this.options))}},{key:"options",get:function(){return["anchor","offset"]}}]),e}(Mn.default);fe.default=xn;var pe={};Object.defineProperty(pe,"__esModule",{value:!0});var $n=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Tn=j,zn=En(Tn);function En(t){return t&&t.__esModule?t:{default:t}}function Rn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Bn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Un=function(t){Bn(e,t);function e(i){return Rn(this,e),jn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i))}return $n(e,[{key:"getControl",value:function(){return new BMap.MapTypeControl(this.getOptions(this.options))}},{key:"options",get:function(){return["anchor","offset","type","mapTypes"]}}]),e}(zn.default);pe.default=Un;var se={};Object.defineProperty(se,"__esModule",{value:!0});var Wn=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),In=j,Vn=qn(In);function qn(t){return t&&t.__esModule?t:{default:t}}function An(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Zn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Jn=function(t){Zn(e,t);function e(i){return An(this,e),Nn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i))}return Wn(e,[{key:"getControl",value:function(){return new BMap.PanoramaControl(this.getOptions(this.options))}},{key:"options",get:function(){return["anchor","offset"]}}]),e}(Vn.default);se.default=Jn;var ce={},q={};Object.defineProperty(q,"__esModule",{value:!0});var Fn=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Yn=O,Xn=Gn(Yn);function Gn(t){return t&&t.__esModule?t:{default:t}}function Hn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Qn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Cn=function(t){Qn(e,t);function e(i){return Hn(this,e),Kn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i))}return Fn(e,[{key:"componentDidUpdate",value:function(n){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.props.map.removeOverlay(this.overlay),this.overlay=null}},{key:"initialize",value:function(){var n=this.props.map;if(!!n){this.destroy(),this.overlay=this.getOverlay(),this.bindEvent(this.overlay,this.events),n.addOverlay(this.overlay);var r=this.overlay.getPath();r&&r.length>0&&this.props.autoViewport===!0&&n.setViewport(r,this.props.viewportOptions)}}},{key:"getOverlay",value:function(){return null}},{key:"options",get:function(){return["strokeColor","fillColor","strokeWeight","strokeOpacity","fillOpacity","strokeStyle","enableMassClear","enableEditing","enableClicking"]}},{key:"events",get:function(){return["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"]}}]),e}(Xn.default);q.default=Cn;Object.defineProperty(ce,"__esModule",{value:!0});var er=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),tr=q,nr=rr(tr);function rr(t){return t&&t.__esModule?t:{default:t}}function ir(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function or(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ar(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ur=function(t){ar(e,t);function e(i){return ir(this,e),or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i))}return er(e,[{key:"getOverlay",value:function(){var n=this.props.center,r=this.props.radius;return new BMap.Circle(n,r,this.getOptions(this.options))}}]),e}(nr.default);ce.default=ur;var he={};Object.defineProperty(he,"__esModule",{value:!0});var lr=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),fr=q,pr=sr(fr);function sr(t){return t&&t.__esModule?t:{default:t}}function cr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hr(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dr=function(t){yr(e,t);function e(i){return cr(this,e),hr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i))}return lr(e,[{key:"getOverlay",value:function(){var n=this.props.path;return n=n.map(function(r){return new BMap.Point(r.lng,r.lat)}),new BMap.Polyline(n,this.getOptions(this.options))}}]),e}(pr.default);he.default=dr;var ye={};Object.defineProperty(ye,"__esModule",{value:!0});var vr=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),mr=q,gr=_r(mr);function _r(t){return t&&t.__esModule?t:{default:t}}function br(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wr(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Or(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kr=function(t){Or(e,t);function e(i){return br(this,e),wr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i))}return vr(e,[{key:"getOverlay",value:function(){var n=this.props.path;return n=n.map(function(r){return new BMap.Point(r.lng,r.lat)}),new BMap.Polygon(n,this.getOptions(this.options))}}]),e}(gr.default);ye.default=kr;var de={},ve={};Object.defineProperty(ve,"__esModule",{value:!0});var Mr={0:"#fff",1:"#00dc35",2:"#f3e032",3:"#ff6c6c",4:"#900000"},Pr={drawRoads:function(e,i,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=e.getZoom(),a=r.lineWidth||5,u=r.level===void 0?1:r.level,l=null,f=0,s=0,p=[],c=[],h=[],m=0,_=0;i.beginPath();var y,g=Math.pow(2,18-e.getZoom()),b=e.getMapType().getProjection(),w=b.lngLatToPoint(e.getCenter()),k=new BMap.Pixel(w.x-e.getSize().width/2*g,w.y+e.getSize().height/2*g);return n.forEach(function(E,ee){l=null;for(var B=E.split(","),z=0;z<B.length;z+=2){var U=new BMap.Point(B[z],B[z+1]);c.push(U),r.coordType==="bd09mc"?y={x:(U.lng-k.x)/g,y:(k.y-U.lat)/g}:y=e.pointToPixel(U);var I=void 0;if(l){var N=y.x-l.x,v=y.y-l.y;f=Math.sqrt(N*N+v*v),s+=f,r.arrow&&(m+=f,_+=f,I={start:l,end:y,offset:50-(m-f),depth:f,totalDepth:_},p.push(I),m>=50&&(h.push(I),m%=50))}l=y,z===0?i.moveTo(y.x,y.y):(s>15||z>=B.length-2)&&(s=0,i.lineTo(y.x,y.y))}if(r.arrow&&ee===E.length-1&&_<100){var d=p[Math.ceil(p.length/2)];for(var Z in p)if(p[Z].totalDepth>=_/2){d=p[Z+1]?p[Z+1]:p[Z];break}var rt=p[p.length-1];d.end=rt.end,h=[],h.push(d)}}),r.line&&(i.lineCap=r.lineCap||"round",i.lineJoin="round",r.border&&(i.strokeStyle=r.border.color||"white",i.lineWidth=(o<=13?a-2:a)+(r.border.lineWidth*2||4),i.stroke()),i.strokeStyle=r.color||Mr[u]||"#fc2c2b",i.lineWidth=o<=13?a-2:a,i.stroke()),r.arrow&&this.drawArrow(i,h,r),c},drawArrow:function(e,i,n){e.beginPath(),i.forEach(function(r){var o=r.start.x,a=r.start.y,u=r.end.x,l=r.end.y,f=u-o,s=l-a,p=[0,-1],c=[r.end.x-r.start.x,r.end.y-r.start.y],h=p[0]*c[0]+p[1]*c[1],m=Math.sqrt(p[0]*p[0]+p[1]*p[1]),_=Math.sqrt(c[0]*c[0]+c[1]*c[1]),y=Math.acos(h/(m*_));c[0]<0&&(y=Math.PI*2-y);for(var g=n.arrow.width/2||2,b=n.arrow.height||g,w=0;r.offset+50*w<=r.depth;){var k=r.offset+50*w,E=k/r.depth;e.save(),e.translate(o+f*E,a+s*E),e.rotate(y),e.moveTo(-g*1.618,b),e.lineTo(0,0),e.lineTo(g*1.618,b),e.restore(),w+=1}i.length===1&&r.offset>r.depth&&(e.save(),e.translate(o,a),e.rotate(y),e.moveTo(-g*1.618,b),e.lineTo(0,0),e.lineTo(g*1.618,b),e.restore())}),e.strokeStyle=n.arrow.color||"#fff",e.lineWidth=3,e.stroke()}};ve.default=Pr;var me={};Object.defineProperty(me,"__esModule",{value:!0});var Sr={mergeRoadPath:function(e,i){for(var n=[],r=0;r<e.length;r++)if(n.length==0)n.push(e[r]);else{var o=e[r].split(","),a=n[n.length-1].split(",");if(o[0]===a[a.length-2]&&o[1]===a[a.length-1]){var u=o.slice(2);n[n.length-1]+=","+u.join(",")}else n.push(e[r])}return n},uniqueRoadPath:function(e){for(var i=0;i<e.length-1;i++)if(!!e[i]){for(var n=e[i].split(","),r=i+1;r<e.length;r++)if(e[r]){for(var o=e[r].split(","),a=!0,u=0;u<o.length;u+=2){var l=this.isPointOnPolyline({lng:o[u],lat:o[u+1]},n);l==!1&&(a=!1)}a&&delete e[r]}}return e},isPointOnPolyline:function(e,i){for(var n=i,r=0;r<n.length-2;r++){var o={lng:n[r],lat:n[r+1]},a={lng:n[r+2],lat:n[r+3]};if(e.lng>=Math.min(o.lng,a.lng)&&e.lng<=Math.max(o.lng,a.lng)&&e.lat>=Math.min(o.lat,a.lat)&&e.lat<=Math.max(o.lat,a.lat)){var u=(o.lng-e.lng)*(a.lat-e.lat)-(a.lng-e.lng)*(o.lat-e.lat),l=2e-10;if(l=2e-9,u<l&&u>-l)return!0}}return!1}};me.default=Sr;Object.defineProperty(de,"__esModule",{value:!0});var Dr=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Lr=O,xr=ge(Lr),$r=R.exports,Tr=ve,Y=ge(Tr),zr=me,Ie=ge(zr);function ge(t){return t&&t.__esModule?t:{default:t}}function Er(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rr(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Br=function(t){jr(e,t);function e(i){Er(this,e);var n=Rr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.state={},n}return Dr(e,[{key:"componentDidUpdate",value:function(n){this.initialize()}},{key:"getRoadPoints",value:function(n){for(var r=this.props.map.getMapType().getProjection(),o=[],a=0;a<n.length;a++)for(var u=n[a].split(","),l=0;l<u.length;l+=2)this.props.coordType==="bd09mc"?o.push(r.pointToLngLat(new BMap.Pixel(u[l],u[l+1]))):o.push(new BMap.Point(u[l],u[l+1]));return o}},{key:"updateViewport",value:function(){var n=this;this.props.roadPath;var r=[];this.props.roadPaths?this.props.roadPaths.forEach(function(o){r=r.concat(n.getRoadPoints(o))}):this.props.roadPath&&(r=r.concat(this.getRoadPoints(this.props.roadPath))),r.length>0&&this.props.autoViewport!==!1&&this.props.map.setViewport(r,this.props.viewportOptions)}},{key:"getRoadGroup",value:function(a,u,l){var a=a,u=u,l=l,f={},s=[];if(u)for(var p=0;p<u.length;p++)f[u[p]]||(f[u[p]]={roadPath:[],color:l[u[p]]}),s.push(a[p]),f[u[p]].roadPath.push(a[p]);else f[0]={roadPath:a,color:this.props.color||"#1495ff"};return{group:f,allPath:Ie.default.mergeRoadPath(a)}}},{key:"isClick",value:function(n,r,o){var a=this.canvasLayer.canvas.getContext("2d"),u=this.getRoadGroup(o);a.beginPath();var l=this.props.lineWidth||10;Y.default.drawRoads(n,a,u.allPath,{color:this.props.bgColor||"#fff",lineWidth:l+4,lineCap:"butt",arrow:!1,line:!1}),a.lineWidth=l+6;var f=a.isPointInStroke(r.x*window.devicePixelRatio,r.y*window.devicePixelRatio);return f}},{key:"initialize",value:function(){var n=this,r=this.props.map;if(!!r){var o=this.canvasLayerUpdate.bind(this);this.canvasLayer?this.canvasLayer.draw():(this.canvasLayer=new $r.baiduMapCanvasLayer({zIndex:this.props.zIndex,map:r,update:function(){o(this)}}),this.props.onClick&&r.addEventListener("click",function(a){var u=!1;if(n.props.roadPaths)for(var l=0;l<n.props.roadPaths.length;l++){var f=n.props.roadPaths[l];u=n.isClick(r,a.pixel,f),u&&n.props.onClick(l)}else n.props.roadPath&&(u=n.isClick(r,a.pixel,n.props.roadPath),u&&n.props.onClick())})),this.updateViewport()}}},{key:"canvasLayerUpdate",value:function(n){var r=this,o=n.canvas.getContext("2d");if(!o)return!1;o.clearRect(0,0,o.canvas.width,o.canvas.height);var a=this.props.roadPath,u=this.props.roadPaths,l=this.props.lineWidth||10;u?u.forEach(function(f,s){r.props.lineWidths&&(l=r.props.lineWidths[s]),r.drawRoad(o,f,r.props.category,r.props.splitList,l)}):a&&this.drawRoad(o,this.props.roadPath,this.props.category,this.props.splitList,l)}},{key:"drawRoad",value:function(n,r,o,a,u){var l=this.getRoadGroup(r,o,a),f=l.group;Y.default.drawRoads(this.props.map,n,l.allPath,{color:this.props.bgColor||"#fff",coordType:this.props.coordType,lineWidth:u+4,lineCap:"butt",arrow:!1,line:!0});for(var s in f){var p=f[s],r=Ie.default.mergeRoadPath(p.roadPath);Y.default.drawRoads(this.props.map,n,r,{color:p.color,coordType:this.props.coordType,line:!0,lineWidth:u,lineCap:"butt",arrow:!1})}Y.default.drawRoads(this.props.map,n,l.allPath,{color:p.color,coordType:this.props.coordType,lineWidth:u,border:{},lineCap:"butt",arrow:this.props.isShowArrow!==!1?{width:5,height:3,color:this.props.arrowColor}:!1})}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.canvasLayer.hide()}}]),e}(xr.default);de.default=Br;var _e={};Object.defineProperty(_e,"__esModule",{value:!0});var Ur=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Wr=O,Ir=Vr(Wr),Ve=R.exports;function Vr(t){return t&&t.__esModule?t:{default:t}}function qr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ar(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Zr=function(t){Nr(e,t);function e(i){qr(this,e);var n=Ar(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.state={},n}return Ur(e,[{key:"componentDidUpdate",value:function(n){this.initialize()}},{key:"componentDidMount",value:function(){this._allRequest={},this._backData={},this.initialize()}},{key:"componentWillUnmount",value:function(){this.mapvLayer&&(this.mapvLayer.destroy(),this.mapvLayer=null)}},{key:"getPointArrayByDataSetData",value:function(n){for(var r=[],o=0;o<n.length;o++){var a=n[o].geometry.coordinates[0];a.forEach(function(u){r.push(new BMap.Point(u[0],u[1]))})}return r}},{key:"getBoundaryData",value:function(){var n=this.props.data,r=this.props.map;if(!n)return;this._request={};var o=this,a=new BMap.Boundary,u=[];function l(){var f=!0;for(var s in o._request)o._request[s]||(f=!1);if(f){o.dataSet.set(u);var p=o.getPointArrayByDataSetData(u);p.length>0&&o.props.autoViewport!==!1&&r.setViewport(p,o.props.viewportOptions)}}n.forEach(function(f,s){o._request[f.name]=!1,o._backData[f.name]&&(u=u.concat(o._backData[f.name]),o._request[f.name]=!0)}),l(),n.forEach(function(f,s){o._request[f.name]||o._allRequest[f.name]||(o._allRequest[f.name]=!0,a.get(f.name,function(p){for(var c=[],h=0;h<p.boundaries.length;h++){for(var m=[],_=p.boundaries[h].split(";"),y=0;y<_.length;y++)m.push(_[y].split(","));c.push({geometry:{type:"Polygon",coordinates:[m]},count:f.count})}o._backData[f.name]=c,u=u.concat(c),o._request[f.name]=!0,l()}))})}},{key:"initialize",value:function(){var n=this.props.map;if(!!n){if(!this.mapvLayer){this.dataSet=new Ve.DataSet([]);var r=this.props.layerOptions||{gradient:{0:"yellow",1:"red"},max:100,globalAlpha:.8,draw:"intensity"};this.mapvLayer=new Ve.baiduMapLayer(n,this.dataSet,r)}this.getBoundaryData()}}}]),e}(Ir.default);_e.default=Zr;var be={},we={};Object.defineProperty(we,"__esModule",{value:!0});function C(t){this.options=t||{},this._point=t.point,this._fillColor=t.fillStyle||"#1495ff",this._size=t.size||30,this._lineWidth=t.lineWidth===void 0?2:t.lineWidth,this._strokeStyle=t.strokeStyle||"#ffffff",t.strokeOpacity&&(this._strokeStyle=Jr(this._strokeStyle,.4))}C.prototype=new BMap.Overlay;C.prototype.initialize=function(t){this._map=t;var e=this._div=document.createElement("div"),i=e.style;i.position="absolute",i.backgroundClip="padding-box",i.zIndex=this.options.zIndex||BMap.Overlay.getZIndex(this._point.lat),i.backgroundColor=this._fillColor,this.options.isShowShadow!==!1&&(i.boxShadow="0 0 5px rgba(0, 0, 0, 0.5)"),i.border=this._lineWidth+"px solid "+this._strokeStyle,i.color="white",i.textShadow=this.options.textShadow||"0px 0px 5px #fff",i.width=this._size+"px",i.boxSizing="content-box",i.borderRadius="30px",i.height=this._size+"px",i.lineHeight=this._size+"px",i.fontSize="12px",i.cursor="pointer",i.textAlign="center",i.MozUserSelect="none",this.options.number&&this.options.isShowNumber!==!1&&(e.innerHTML=this.options.number);var n=this;return e.addEventListener("mouseover",function(){n.dispatchEvent("mouseover",n.options.number),i.backgroundColor="#1495ff"}),e.addEventListener("mouseout",function(){n.dispatchEvent("mouseout",n.options.number),i.backgroundColor=n._fillColor}),e.addEventListener("click",function(){n.dispatchEvent("click",n.options.number)}),e.addEventListener("touchstart",function(r){r.stopPropagation()}),e.addEventListener("touchmove",function(r){r.stopPropagation()}),e.addEventListener("touchend",function(r){r.stopPropagation()}),t.getPanes().markerPane.appendChild(e),e};C.prototype.draw=function(){var t=this._map,e=t.pointToOverlayPixel(this._point);this._div.style.left=e.x-(this._size+this._lineWidth)/2-1+"px",this._div.style.top=e.y-(this._size+this._lineWidth)/2-2+"px"};function Jr(t,e){var i=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,n=t.toLowerCase();if(n&&i.test(n)){if(n.length===4){for(var r="#",o=1;o<4;o+=1)r+=n.slice(o,o+1).concat(n.slice(o,o+1));n=r}for(var a=[],o=1;o<7;o+=2)a.push(parseInt("0x"+n.slice(o,o+2)));return e?(a.push(e),"rgba("+a.join(",")+")"):"rgb("+a.join(",")+")"}else return n}we.default=C;Object.defineProperty(be,"__esModule",{value:!0});var Fr=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Yr=O,Xr=He(Yr),te=R.exports,Gr=we,Hr=He(Gr);function He(t){return t&&t.__esModule?t:{default:t}}function Kr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qr(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Cr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ei=function(t){Cr(e,t);function e(i){Kr(this,e);var n=Qr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.state={},n}return Fr(e,[{key:"componentDidUpdate",value:function(n){var r=JSON.stringify(n.data),o=JSON.stringify(this.props.data);r!=o||!this.map?this.initialize():this.setViewport()}},{key:"componentDidMount",value:function(){this.markers=[],this.initialize()}},{key:"componentWillUnmount",value:function(){this.clearMarkers(),this.textLayer&&(this.textLayer.destroy(),this.textLayer=null),this.animationLayer&&(this.animationLayer.destroy(),this.animationLayer=null)}},{key:"clearMarkers",value:function(){for(var n=0;n<this.markers.length;n++)this.map.removeOverlay(this.markers[n]),this.markers[n]=null;this.markers.length=0}},{key:"initialize",value:function(){var n=this,r=this.props.map;if(!!r){if(this.map=r,this.clearMarkers(),!this.textLayer){this.dataSet=new te.DataSet([]);var o=this.props.textOptions||{fillStyle:"#666666",shadowBlur:5,shadowColor:"rgba(0, 0, 0, 0.1)",globalAlpha:"0.9",textAlign:"left",offset:{x:this.props.mini?10:15,y:0},coordType:this.props.coordType,avoid:!0,size:12,textKey:"text",draw:"text"};this.props.isShowText!==!1&&(this.textLayer=new te.baiduMapLayer(r,this.dataSet,o))}if(!this.animationLayer&&this.props.animation===!0){var a=this.props.splitList||{};a.other=this.props.fillStyle||"rgba(50, 50, 255, 0.5)";var u={styleType:"stroke",strokeStyle:this.props.fillStyle||"rgba(20, 249, 255, 0.5)",coordType:this.props.coordType,splitList:a,globalAlpha:.4,size:this.props.multiple||this.props.mini?20:26,minSize:this.props.multiple||this.props.mini?10:13,draw:"category"};this.animationLayer=new te.baiduMapAnimationLayer(r,this.dataSet,u)}for(var l=r.getMapType().getProjection(),f=this.props.data,s=[],p=0;p<f.length;p++)if(!(this.props.showIndex!==void 0&&this.props.showIndex!=p)&&f[p].location){var c=f[p].location.split(",");if(this.props.coordType&&this.props.coordType==="bd09mc")var h=l.pointToLngLat(new BMap.Pixel(c[0],c[1]));else var h=new BMap.Point(c[0],c[1]);var m=f[p].color||this.props.fillStyle||"#1495ff";this.props.splitList&&(this.props.splitList[f[p].count]?m=this.props.splitList[f[p].count]:m=this.props.splitList.other);var o={point:h,fillStyle:m,isShowNumber:this.props.isShowNumber,size:26,zIndex:f.length-p,number:p+1};if((this.props.multiple||this.props.mini)&&(o.size=20,o.lineWidth=0,(p>=10||this.props.mini)&&(o.isShowNumber=!1,o.size=10,o.strokeStyle=m,o.lineWidth=3,o.strokeOpacity=.4,this.props.miniStyle)))for(var _ in this.props.miniStyle)o[_]=this.props.miniStyle[_];var y=new Hr.default(o);y.addEventListener("click",function(w,k){n.props.onClick&&n.props.onClick(k-1)}),y.addEventListener("mouseover",function(w,k){n.props.onMouseOver&&n.props.onMouseOver(k-1)}),y.addEventListener("mouseout",function(w,k){n.props.onMouseOut&&n.props.onMouseOut(k-1)}),y.index=p,this.markers.push(y),s.push({geometry:{type:"Point",coordinates:[c[0],c[1]]},count:f[p].count,text:f[p].text})}for(var g=this.markers.length;g--;)r.addOverlay(this.markers[g]);this.props.mini?this.dataSet.set(s):this.dataSet.set(s.splice(0,10)),this.setViewport()}}},{key:"setViewport",value:function(){var n=this.props.map;if(!!n){for(var r=this.props.data,o=n.getMapType().getProjection(),a=[],u=0;u<r.length;u++)if(r[u].location){var l=r[u].location.split(",");if(this.props.coordType&&this.props.coordType==="bd09mc")var f=o.pointToLngLat(new BMap.Pixel(l[0],l[1]));else var f=new BMap.Point(l[0],l[1]);a.push(f)}a.length>0&&this.props.autoViewport!==!1&&n.setViewport(a,this.props.viewportOptions)}}}],[{key:"defaultProps",get:function(){return{autoViewport:!0}}}]),e}(Xr.default);be.default=ei;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});var ti=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ni=O,ri=ii(ni),M=R.exports;function ii(t){return t&&t.__esModule?t:{default:t}}function oi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ai(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ui(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var li=function(t){ui(e,t);function e(i){oi(this,e);var n=ai(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.state={},n}return ti(e,[{key:"handleClick",value:function(n){this.props.onClick&&this.props.onClick(n)}},{key:"componentDidUpdate",value:function(n){var r=JSON.stringify(n.data),o=JSON.stringify(this.props.data);(r!=o||!this.map)&&this.initialize()}},{key:"initialize",value:function(){var n=this.props.map;!n||(this.map=n,this._createLayer||this.createLayers(),this.showDatasets(this.props.data))}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.shadowSet=null,this.circleSet=null,this.textSet=null,this.numSet=null,this.otherSet=null,this.otherShadowSet=null;for(var n=0;n<this.layers.length;n++)this.layers[n].destroy(),this.layers[n]=null}},{key:"showDatasets",value:function(n){var r=this,o=[],a=[],u=[],l=[],f=[],s=[];n.length>0&&(n.forEach(function(p,c){var h=p.location.split(","),m=r.project.pointToLngLat(new BMap.Pixel(h[0],h[1]));s.push(m),c<10?(o.push({geometry:{type:"Point",coordinates:[h[0],h[1]]},count:parseInt(p.count)}),a.push({geometry:{type:"Point",coordinates:[h[0],h[1]]},id:c,count:parseInt(p.count),text:parseInt(c)+1}),u.push({geometry:{type:"Point",coordinates:[h[0],h[1]]},count:parseInt(p.count),text:p.text})):(l.push({geometry:{type:"Point",coordinates:[h[0],h[1]]},id:c,count:parseInt(p.count)}),f.push({geometry:{type:"Point",coordinates:[h[0],h[1]]},count:parseInt(p.count)}))}),this.shadowSet.set(o),this.circleSet.set(a),this.textSet.set(u),this.numSet.set(a),this.otherSet.set(l),this.otherShadowSet.set(f),s.length>0&&this.props.autoViewport!==!1&&map.setViewport(s,self.props.viewportOptions))}},{key:"createLayers",value:function(){this._createLayer=!0;var n=this.map;this.project=n.getMapType().getProjection();var r=this,o=this.shadowSet=new M.DataSet([]),a=this.circleSet=new M.DataSet([]),u=this.textSet=new M.DataSet([]),l=this.numSet=new M.DataSet([]),f=this.otherSet=new M.DataSet([]),s=this.otherShadowSet=new M.DataSet([]);this.layers=[];var p={coordType:"bd09mc",splitList:{4:"#d53938",3:"#fe6261",2:"#ffb02d",other:"#80db69"},shadowBlur:10,size:5,max:30,methods:{click:function(b){b&&r.handleClick(b.id)},mousemove:function(b){f.update(function(w){w.fillStyle=null}),b?(r.isSmallPath=!0,r.props.map.setDefaultCursor("pointer"),f.update(function(w){w.fillStyle="#1495ff"},{id:b.id})):(r.isSmallPath=!1,!r.isSmallPath&&!r.isBigPath&&r.props.map.setDefaultCursor("auto"))}},draw:"category"},c={splitList:{4:"#d53938",3:"#fe6261",2:"#ffb02d",1:"#80db69"},styleType:"fill",globalAlpha:.4,coordType:"bd09mc",size:8,minSize:5,draw:"category"};if(this.layers.push(new M.baiduMapLayer(n,s,c)),this.layers.push(new M.baiduMapLayer(n,f,p)),this.props.animation===!0){var h={splitList:{4:"#d53938",3:"#fe6261",2:"#ffb02d",1:"#80db69"},styleType:"stroke",globalAlpha:.4,coordType:"bd09mc",size:20,minSize:10,draw:"category"};this.layers.push(new M.baiduMapAnimationLayer(n,o,h))}var m={splitList:{1:"#80db69",4:"#d53938",3:"#fe6261",2:"#ffb02d"},fillStyle:"red",coordType:"bd09mc",size:10,draw:"category",methods:{click:function(b){b&&r.handleClick(b.id)},mousemove:function(b){a.update(function(w){w.fillStyle=null}),b?(r.isBigPath=!0,r.map.setDefaultCursor("pointer"),a.update(function(w){w.fillStyle="#1495ff"},{id:b.id})):(r.isBigPath=!1,!r.isBigPath&&!r.isSmallPath&&r.map.setDefaultCursor("auto"))}}};this.layers.push(new M.baiduMapLayer(n,a,m));var _={coordType:"bd09mc",draw:"text",font:"13px Arial",fillStyle:"#ffffff",shadowColor:"#ffffff",shadowBlur:10};this.layers.push(new M.baiduMapLayer(n,l,_));var y={coordType:"bd09mc",font:"13px Arial",fillStyle:"#666",shadowColor:"#ffffff",shadowBlur:10,draw:"text",avoid:!0,textAlign:"left",offset:{x:10,y:0}};this.layers.push(new M.baiduMapLayer(n,u,y))}},{key:"render",value:function(){return null}}],[{key:"defaultProps",get:function(){return{autoViewport:!0}}}]),e}(ri.default);Oe.default=li;var ke={};Object.defineProperty(ke,"__esModule",{value:!0});var fi=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),pi=O,si=ci(pi);function ci(t){return t&&t.__esModule?t:{default:t}}function hi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yi(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function di(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vi=function(t){di(e,t);function e(i){hi(this,e);var n=yi(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.state={},n}return fi(e,[{key:"componentDidUpdate",value:function(n){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){var n=this.props.map;n&&n.removeTileLayer&&n.removeTileLayer instanceof Function&&this.tileLayer&&(n.removeTileLayer(this.tileLayer),this.tileLayer=null)}},{key:"initialize",value:function(){var n=this.props.map,r="http://its.map.baidu.com/traffic/TrafficTileService",o=this.props.tilesUrl?this.props.tilesUrl:r;if(!!n){if(!this.tileLayer){this.tileLayer=new BMap.TileLayer({isTransparentPng:!0});var a=Math.round(window.devicePixelRatio||1);a=Math.min(2,a),a=Math.max(1,a),this.tileLayer.getTilesUrl=function(u,l){var f=u.x,s=u.y,p=new Date().getTime();return o+"?level="+l+"&x="+f+"&y="+s+"&time="+p+"&v=081&scaler="+a}}n.addTileLayer(this.tileLayer)}}}]),e}(si.default);ke.default=vi;var Me={};Object.defineProperty(Me,"__esModule",{value:!0});var mi={mergeRoadPath:function(e,i){if(!!e){for(var n=[],r=0;r<e.length;r++)if(n.length==0)n.push(e[r]);else{for(var o=e[r].split(","),a=!1,u=0;u<n.length;u++){var l=n[u].split(",");if(o[0]===l[l.length-2]&&o[1]===l[l.length-1]){var f=o.slice(2);n[u]+=","+f.join(","),a=!0}if(o[o.length-2]===l[0]&&o[o.length-1]===l[1]){var f=o.slice(0,o.length-2);n[u]=f.join(",")+","+n[u],a=!0}}a===!1&&n.push(e[r])}return n=this.uniqueRoadPath(n),n}},uniqueRoadPath:function(e){for(var i=e.map(function(l){return new A(l.split(","))}),n=0;n<i.length-1;n++)if(!!i[n]){for(var r=i[n],o=n+1;o<i.length;o++)if(i[o]){var a=i[o];a.isInclude(r)&&delete i[o]}}var u=[];return i.map(function(l){l&&u.push(l.getPoints().join(","))}),u}};function A(t){this.polyline=t;for(var e=t[0],i=t[0],n=t[1],r=t[1],o=2;o<t.length;o+=2)e=Math.min(e,t[o]),i=Math.max(i,t[o]),n=Math.min(n,t[o+1]),r=Math.max(r,t[o+1]);this.minX=e,this.maxX=i,this.minY=n,this.maxY=r}A.prototype.getPoints=function(){return this.polyline};A.prototype.isInBound=function(t){return t.lng>this.minX&&t.lat>this.minY&&t.lng<this.maxX&&t.lat<this.maxY};A.prototype.isInclude=function(t){if(!(t.minX>this.minX&&t.minY>this.minY&&t.maxX<this.maxX&&t.maxY<this.maxY))return!1;for(var e=this.getPoints(),i=!0,n=0;n<e.length;n+=2){var r=this.isPointOnPolyline({lng:e[n],lat:e[n+1]},t);r==!1&&(i=!1)}return i};A.prototype.isPointOnPolyline=function(t,e){var i=e.getPoints();if(!e.isInBound(t))return!1;for(var n=0;n<i.length-2;n++){var r={lng:i[n],lat:i[n+1]},o={lng:i[n+2],lat:i[n+3]};if(t.lng>=Math.min(r.lng,o.lng)&&t.lng<=Math.max(r.lng,o.lng)&&t.lat>=Math.min(r.lat,o.lat)&&t.lat<=Math.max(r.lat,o.lat)){var a=(r.lng-t.lng)*(o.lat-t.lat)-(o.lng-t.lng)*(r.lat-t.lat),u=2e-10;if(u=2e-9,a<u&&a>-u)return!0}}return!1};Me.default=mi;var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});var gi=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_i=O,bi=wi(_i),qe=R.exports;function wi(t){return t&&t.__esModule?t:{default:t}}function Oi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ki(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Mi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pi=function(t){Mi(e,t);function e(i){Oi(this,e);var n=ki(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.state={},n}return gi(e,[{key:"handleClick",value:function(n){this.props.onClick&&this.props.onClick(n)}},{key:"componentDidUpdate",value:function(n){var r=JSON.stringify(n.data),o=JSON.stringify(this.props.data),a=JSON.stringify(n.options),u=JSON.stringify(this.props.options);(r!=o||!this.map||a!=u)&&this.initialize()}},{key:"initialize",value:function(){var n=this,r=this.props.map;if(!!r){if(this.map=r,this._createLayer||this.createLayers(),this.props.options.autoViewport){var o=function(f){return n.props.options.coordType==="bd09mc"?a.pointToLngLat(new BMap.Pixel(f[0],f[1])):new BMap.Point(f[0],f[1])},a=r.getMapType().getProjection(),u=[];this.props.data.map(function(l){l.geometry.type==="Point"?u.push(o(l.geometry.coordinates)):l.geometry.type==="Polygon"&&l.geometry.coordinates[0].map(function(f){u.push(o(f))})}),u.length>0&&r.setViewport(u,this.props.options.viewportOptions)}this.dataSet.set(this.props.data),this.layer.update({options:this.props.options})}}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.layer.destroy(),this.layer=null}},{key:"createLayers",value:function(){this._createLayer=!0;var n=this.map,r=this.dataSet=new qe.DataSet([]);this.layer=new qe.baiduMapLayer(n,r,{enableMassClear:!1})}}],[{key:"defaultProps",get:function(){return{}}}]),e}(bi.default);Pe.default=Pi;var Se={};Object.defineProperty(Se,"__esModule",{value:!0});var Si=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Di=O,Li=Ti(Di),xi=Ye.exports,Ae=$i(xi);function $i(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function Ti(t){return t&&t.__esModule?t:{default:t}}function zi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ei(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ri(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ji=function(t){Ri(e,t);function e(i){zi(this,e);var n=Ei(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.state={},n}return Si(e,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.view&&this.layer.options&&(this.props.view.removeLayer(this.layer),this.layer.destroy(),this.layer=null)}},{key:"handleClick",value:function(n){this.props.onClick&&this.props.onClick(n)}},{key:"componentDidUpdate",value:function(n){var r=JSON.stringify(n.data),o=JSON.stringify(this.props.data),a=JSON.stringify(n.options),u=JSON.stringify(this.props.options);(!this.map||r!==o||a!==u)&&this.initialize()}},{key:"initialize",value:function(){var n=this,r=this.props.map;if(!!r){if(this.map=r,this._createLayer||this.createLayers(),this.props.options.autoViewport){var o=r.getMapType().getProjection(),a=function(f){return n.props.options.coordType==="bd09mc"?o.pointToLngLat(new BMap.Pixel(f[0],f[1])):new BMap.Point(f[0],f[1])},u=[];this.props.data.map(function(l){l.geometry.type==="Point"?u.push(a(l.geometry.coordinates)):l.geometry.type==="LineString"?l.geometry.coordinates.map(function(f){u.push(a(f))}):l.geometry.type==="Polygon"&&l.geometry.coordinates[0].map(function(f){u.push(a(f))})}),u.length>0&&r.setViewport(u,this.props.options.viewportOptions)}this.layer.setData(this.props.data),this.layer.setOptions(this.props.options)}}},{key:"createLayers",value:function(){Ae[this.props.type]?(this._createLayer=!0,this.layer=new Ae[this.props.type](this.props.options),this.props.view.addLayer(this.layer)):console.error("mapvgl doesn't have layer "+this.props.type+"!")}}],[{key:"defaultProps",get:function(){return{}}}]),e}(Li.default);Se.default=ji;var De={};Object.defineProperty(De,"__esModule",{value:!0});var Bi=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ui=S.exports,ne=Ke(Ui),Wi=O,Ii=Ke(Wi),X=Ye.exports;function Ke(t){return t&&t.__esModule?t:{default:t}}function Vi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qi(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ai(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ni=function(t){Ai(e,t);function e(){return Vi(this,e),qi(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Bi(e,[{key:"componentDidMount",value:function(){this.initialize(),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.mapvglView&&(this.mapvglView.destroy(),this.mapvglView=null)}},{key:"componentDidUpdate",value:function(n){(!this.map||!this.mapvglView)&&this.initialize()}},{key:"initialize",value:function(){var n=this.props.map;if(!!n&&(this.map=n,!this.mapvglView)){var r=[],o=this.props.effects;o&&o.length&&o.forEach(function(a){a==="bloom"?r.push(new X.BloomEffect):a==="bright"?r.push(new X.BrightEffect):a==="blur"&&r.push(new X.BlurEffect)}),this.mapvglView=new X.View({mapType:"bmap",effects:r,map:n})}}},{key:"renderChildren",value:function(){var n=this,r=this.props.children;if(!(!r||!this.map||!this.mapvglView))return ne.default.Children.map(r,function(o){if(!!o)return typeof o.type=="string"?o:ne.default.cloneElement(o,{map:n.map,view:n.mapvglView})})}},{key:"render",value:function(){return ne.default.createElement("div",{title:"mapvgl view"},this.renderChildren())}}]),e}(Ii.default);De.default=Ni;var Le={};Object.defineProperty(Le,"__esModule",{value:!0});var Zi=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ji=O,Fi=Yi(Ji);function Yi(t){return t&&t.__esModule?t:{default:t}}function Xi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gi(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Hi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ki=function(t){Hi(e,t);function e(i){Xi(this,e);var n=Gi(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.state={},n}return Zi(e,[{key:"componentDidUpdate",value:function(n){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.driving&&this.driving.clearResults(),this.driving=null}},{key:"initialize",value:function(){var n=this.props.map;if(!!n){this.destroy(),this.driving||(this.driving=new BMap.DrivingRoute(n,{renderOptions:{map:n,policy:this.props.policy||BMAP_DRIVING_POLICY_LEAST_TIME,autoViewport:this.props.autoViewport!==void 0?this.props.autoViewport:!0,viewportOptions:{zoomFactor:-1}}}));var r=this.props.start,o=this.props.end;r.lng&&r.lat&&(r=new BMap.Point(r.lng,r.lat)),o.lng&&o.lat&&(o=new BMap.Point(o.lng,o.lat)),this.driving.search(r,o)}}}],[{key:"defaultProps",get:function(){return{}}}]),e}(Fi.default);Le.default=Ki;var xe={},$e={},Te={};Object.defineProperty(Te,"__esModule",{value:!0});var Qe={"#ee5d5b":"0 0","#ff9625":"0 -10px","#6caeca":"0 -20px"},Ce={"#ee5d5b":"#BC3B3A","#ff9625":"#c57f1d","#6caeca":"#5188a5"};function P(t){t=t||{},this._point=t.point,this._text=t.name,this._index=t.index,this._numberDirection=t.numberDirection||"left",this._isShowNumber=t.isShowNumber!==void 0?t.isShowNumber:!0,this.color=t.color||"#ee5d5b",this.tipStyle=t.tipStyle,this.textStyle=t.textStyle,this.numberStyle=t.numberStyle}P.prototype=new BMap.Overlay;P.prototype.changeColor=function(t){this._div&&(this._div.style.backgroundColor=t,this._div.style.borderColor=Ce[t],this._arrow.style.backgroundPosition=Qe[t])};P.prototype.initialize=function(t){this._map=t;var e=this._div=document.createElement("div");if(e.style.position="absolute",e.style.zIndex=BMap.Overlay.getZIndex(this._point.lat),e.style.backgroundColor=this.color,e.style.border="1px solid "+Ce[this.color],e.style.color="white",e.style.height="38px",e.style.boxSizing="border-box",e.style.padding="5px",e.style.whiteSpace="nowrap",e.style.MozUserSelect="none",e.style.fontSize="18px",e.style.border="1px solid #a67972",e.style.color="#494947",e.style.background="#fff",e.style.borderRadius="25px",e.style.paddingLeft="30px",this.tipStyle)for(var i in this.tipStyle)e.style[i]=this.tipStyle[i];var n=this._span=document.createElement("span");if(e.appendChild(n),n.appendChild(document.createTextNode(this._text)),this.textStyle)for(var i in this.textStyle)n.style[i]=this.textStyle[i];var r=this._arrow=document.createElement("div");r.style.backgroundPosition=Qe[this.color],r.style.position="absolute",r.style.width="11px",r.style.height="10px",r.style.top="26px",r.style.left="10px",r.style.overflow="hidden",e.appendChild(r);var o=this._number=document.createElement("div");if(o.style.background=this.color||"#f15e5c",o.style.color="#fff",o.style.position="absolute",o.style.top="3px",o.style.position="absolute",o.style.textAlign="center",o.style.height="30px",o.style.width="30px",o.style.lineHeight="30px",o.style.borderRadius="30px",this.numberStyle)for(var i in this.numberStyle)o.style[i]=this.numberStyle[i];return this._isShowNumber===!1&&(o.style.display="none"),this.renderDirection(),o.innerHTML=this._index,e.appendChild(o),t.getPanes().labelPane.appendChild(e),e};P.prototype.setNumberLeft=function(){this._numberDirection="left",this.renderDirection()};P.prototype.setNumberRight=function(){this._numberDirection="right",this.renderDirection()};P.prototype.renderDirection=function(){var t=this.tipStyle&&this.tipStyle.paddingLeft,e=this.tipStyle&&this.tipStyle.paddingRight,i=this.numberStyle&&this.numberStyle.left,n=this.numberStyle&&this.numberStyle.right;this._numberDirection=="left"?(this._isShowNumber?this._div.style.paddingLeft=t||"38px":this._div.style.paddingLeft=t||"8px",this._div.style.paddingRight=e||"8px",this._number.style.left=i||"5px",this._number.style.right=this.numberStyle&&this.numberStyle.right||"initial"):(this._div.style.paddingLeft=t||"8px",this._isShowNumber?this._div.style.paddingRight=e||"38px":this._div.style.paddingRight=e||"8px",this._number.style.left=i||"initial",this._number.style.right=n||"5px")};P.prototype.hideNumber=function(){this._isShowNumber=!1,this._number.style.display=this.numberStyle.display||"none",this.renderDirection()};P.prototype.setPosition=function(t){this._point=t,this.draw()};P.prototype.hideArrow=function(){this._arrow.style.display="none"};P.prototype.draw=function(){var t=this._map;this._span.innerHTML=this._text;var e=t.pointToOverlayPixel(this._point);this._div.style.left=e.x+5+"px",this._div.style.top=e.y-20+"px"};Te.default=P;Object.defineProperty($e,"__esModule",{value:!0});var Qi=Te,Ci=eo(Qi);function eo(t){return t&&t.__esModule?t:{default:t}}function W(t){this.options=t;var e=t.map,i=t.point;this.point=i;var n=typeof t.draggable=="undefined"?!0:t.draggable;this.map=e;var r=this.tip=new Ci.default(t),o=new BMap.Icon("//huiyan.baidu.com/github/tools/gis-drawing/static/images/drag.png",new BMap.Size(25,25),{imageSize:new BMap.Size(25,25)}),a=this.marker=new BMap.Marker(this.point);a.setIcon(o),a.setShadow(o);var u=this;n&&(a.addEventListener("dragging",function(){u.point=a.point,r.setPosition(a.point),t.change&&t.change()}),a.addEventListener("dragend",function(){t.changePosition&&t.changePosition(u.point)}),a.enableDragging())}W.prototype.show=function(){this.map.addOverlay(this.marker),this.map.addOverlay(this.tip),this.options.isShowTipArrow===!1&&this.tip.hideArrow()};W.prototype.hide=function(){this.map.removeOverlay(this.marker),this.map.removeOverlay(this.tip)};W.prototype.setNumberLeft=function(){this.tip.setNumberLeft()};W.prototype.setNumberRight=function(){this.tip.setNumberRight()};W.prototype.hideNumber=function(){this.tip.hideNumber()};$e.default=W;Object.defineProperty(xe,"__esModule",{value:!0});var to=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),no=S.exports;ze(no);var ro=O,io=ze(ro),oo=$e,ao=ze(oo);function ze(t){return t&&t.__esModule?t:{default:t}}function uo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lo(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var po=function(t){fo(e,t);function e(i){uo(this,e);var n=lo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.state={},n.tips=[],n}return to(e,[{key:"componentDidUpdate",value:function(n){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.tips.forEach(function(n){n.hide()}),this.tips=[]}},{key:"initialize",value:function(){var n=this,r=this.props.map;if(!!r&&(this.destroy(),this.props.data)){var o=[];this.props.data.forEach(function(a,u){var l=new ao.default({isShowTipArrow:!0,changePosition:function(s){n.props.changePosition&&n.props.changePosition(s,u)},map:r,numberDirection:a.numberDirection,isShowNumber:a.isShowNumber,point:a.point,name:a.name,index:a.index!==void 0?a.index:u+1,color:a.color,tipStyle:a.tipStyle,textStyle:a.textStyle,numberStyle:a.numberStyle,draggable:a.draggable,change:function(){}});o.push(a.point),l.show(),n.tips.push(l)}),this.props.autoViewport&&r.setViewport(o,this.props.viewportOptions)}}}],[{key:"defaultProps",get:function(){return{}}}]),e}(io.default);xe.default=po;var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});var so=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),co=S.exports;et(co);var ho=O,yo=et(ho),L=R.exports;function et(t){return t&&t.__esModule?t:{default:t}}function vo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mo(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function go(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _o=function(t){go(e,t);function e(i){vo(this,e);var n=mo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.state={},n}return so(e,[{key:"componentDidUpdate",value:function(n){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.lineLayer.destroy(),this.lineLayer=null,this.pointLayer.destroy(),this.pointLayer=null,this.textLayer.destroy(),this.textLayer=null,this.animationLayer&&(this.animationLayer.destroy(),this.animationLayer=null)}},{key:"createLayers",value:function(){this._createLayer=!0;var n=this.map;this.lineDataSet=new L.DataSet([]),this.lineLayer=new L.baiduMapLayer(n,this.lineDataSet,{}),this.pointDataSet=new L.DataSet([]),this.pointLayer=new L.baiduMapLayer(n,this.pointDataSet,{}),this.textLayer=new L.baiduMapLayer(n,this.pointDataSet,{}),this.props.enableAnimation&&(this.animationLayer=new L.baiduMapAnimationLayer(n,this.lineDataSet,{}))}},{key:"initialize",value:function(){var n=this,r=this.map=this.props.map;if(!!r){this._createLayer||this.createLayers();var o=[],a=[];if(this.props.data){var u=[],l=r.getMapType().getProjection();this.props.data.forEach(function(f,s){var p=f.from.point||L.utilCityCenter.getCenterByCityName(f.from.city),c=f.to.point||L.utilCityCenter.getCenterByCityName(f.to.city),h=L.utilCurve.getPoints([p,c]);n.props.coordType==="bd09mc"?(u.push(l.pointToLngLat(new BMap.Pixel(p.lng,p.lat))),u.push(l.pointToLngLat(new BMap.Pixel(c.lng,c.lat)))):(u.push(p),u.push(c)),o.push({strokeStyle:f.color,geometry:{type:"LineString",coordinates:h}}),n.props.showToPoint!==!1&&a.push({fillStyle:f.color,text:f.to.name||f.to.city,geometry:{type:"Point",coordinates:[c.lng,c.lat]}}),n.props.showFromPoint!==!1&&a.push({fillStyle:f.color,text:f.from.name||f.from.city,geometry:{type:"Point",coordinates:[p.lng,p.lat]}}),u.length>0&&n.props.autoViewport!==!1&&r.setViewport(u,n.props.viewportOptions)})}this.lineDataSet.set(o),this.lineLayer.update({options:this.props.lineOptions||{draw:"simple",strokeStyle:"#5E87DB",lineWidth:3}}),this.pointDataSet.set(a),this.pointLayer.update({options:this.props.pointOptions||{coordType:this.props.coordType,draw:"simple",fillStyle:"#5E87DB",size:5}}),this.textLayer.update({options:this.props.textOptions||{coordType:this.props.coordType,draw:"text",font:"18px Arial",offset:{x:0,y:12},fillStyle:"#333",size:12}}),this.props.enableAnimation?this.animationLayer.update({options:this.props.animationOptions||{coordType:this.props.coordType,fillStyle:"rgba(255, 250, 250, 0.9)",lineWidth:0,size:4,animateTime:50,draw:"simple"}}):this.animationLayer&&this.animationLayer.hide()}}}],[{key:"defaultProps",get:function(){return{}}}]),e}(yo.default);Ee.default=_o;var Re={};Object.defineProperty(Re,"__esModule",{value:!0});var bo=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),wo=S.exports;tt(wo);var Oo=O,ko=tt(Oo),x=R.exports;function tt(t){return t&&t.__esModule?t:{default:t}}function Mo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Po(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function So(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Do=function(t){So(e,t);function e(i){Mo(this,e);var n=Po(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.state={},n}return bo(e,[{key:"componentDidUpdate",value:function(n){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.lineLayer.destroy(),this.lineLayer=null,this.pointLayer.destroy(),this.pointLayer=null,this.textLayer.destroy(),this.textLayer=null}},{key:"createLayers",value:function(){this._createLayer=!0;var n=this.map;this.lineDataSet=new x.DataSet([]),this.lineLayer=new x.baiduMapLayer(n,this.lineDataSet,{}),this.pointDataSet=new x.DataSet([]),this.pointLayer=new x.baiduMapLayer(n,this.pointDataSet,{}),this.textLayer=new x.baiduMapLayer(n,this.pointDataSet,{})}},{key:"initialize",value:function(){var n=this,r=this.map=this.props.map;if(!!r){this._createLayer||this.createLayers();var o=[],a=[],u=Boolean(this.props.type==="curve");if(this.props.data){var l=[],f=r.getMapType().getProjection();this.props.data.forEach(function(s,p){var c=s.from.point||x.utilCityCenter.getCenterByCityName(s.from.city),h=s.to.point||x.utilCityCenter.getCenterByCityName(s.to.city),m=x.utilCurve.getPoints([c,h]);n.props.coordType==="bd09mc"?(l.push(f.pointToLngLat(new BMap.Pixel(c.lng,c.lat))),l.push(f.pointToLngLat(new BMap.Pixel(h.lng,h.lat)))):(l.push(c),l.push(h));var _=new x.utilDataRangeIntensity({maxSize:10,minSize:1,min:n.props.min||0,max:n.props.max||1e3}),y=_.getSize(s.count);o.push({strokeStyle:s.color,geometry:{type:"LineString",coordinates:u?m:[[c.lng,c.lat],[h.lng,h.lat]]},count:s.count,lineWidth:y}),n.props.showToPoint!==!1&&a.push({fillStyle:s.color,text:s.to.name||s.to.city,geometry:{type:"Point",coordinates:[h.lng,h.lat]}}),n.props.showFromPoint!==!1&&a.push({fillStyle:s.color,text:s.from.name||s.from.city,geometry:{type:"Point",coordinates:[c.lng,c.lat]}}),l.length>0&&n.props.autoViewport!==!1&&r.setViewport(l,n.props.viewportOptions)})}this.lineDataSet.set(o),this.lineLayer.update({options:this.props.lineOptions||{coordType:this.props.coordType,draw:"simple",strokeStyle:"#5E87DB",globalCompositeOperation:"lighter",shadowColor:"rgba(255, 255, 255, 0.5)",shadowBlur:60,lineWidth:2}}),this.pointDataSet.set(a),this.pointLayer.update({options:this.props.pointOptions||{coordType:this.props.coordType,draw:"simple",fillStyle:"#5E87DB",size:5,shadowColor:"#5E87DB",shadowBlur:20}}),this.textLayer.update({options:this.props.textOptions||{coordType:this.props.coordType,draw:"text",font:"18px Arial",offset:{x:0,y:12},fillStyle:"#333",size:12}})}}}],[{key:"defaultProps",get:function(){return{}}}]),e}(ko.default);Re.default=Do;var je={};Object.defineProperty(je,"__esModule",{value:!0});var Lo=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),xo=S.exports,$o=To(xo);function To(t){return t&&t.__esModule?t:{default:t}}function zo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eo(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ro(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ne(t,e){var i=null;return function(){var n=this,r=arguments;i&&clearTimeout(i),i=setTimeout(function(){t.apply(n,r)},e)}}function Ze(t,e){var i=void 0,n=arguments,r=void 0;return function o(){var a=this,u=Date.now();r||(r=u),i&&clearTimeout(i),u-r>=e?(t.apply(a,n),r=u):i=setTimeout(function(){o.apply(a,n)},50)}}var jo=function(t){Ro(e,t);function e(i){zo(this,e);var n=Eo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.map=n.props.map,n}return Lo(e,[{key:"componentDidMount",value:function(){this.props.onZoomend&&this._bindZoomendEvent(),this.props.onDragend&&this._bindDragendEvent()}},{key:"componentWillUnmount",value:function(){var n=this.map;this.props.onZoomend&&n.removeEventListener("zoomend",this.onZoomend),this.props.onDragend&&n.removeEventListener("dragend",this.onDragend)}},{key:"_bindZoomendEvent",value:function(){var n=this.map,r=this.props,o=r.onZoomend,a=r.eventType,u=r.delay;a==="debounce"?this.onZoomend=Ne(o,u):a==="throttle"?this.onZoomend=Ze(o,u):this.onZoomend=o,n.addEventListener("zoomend",this.onZoomend)}},{key:"_bindDragendEvent",value:function(){var n=this.map,r=this.props,o=r.onDragend,a=r.eventType,u=r.delay;a==="debounce"?this.onDragend=Ne(o,u):a==="throttle"?this.onDragend=Ze(o,u):this.onDragend=o,n.addEventListener("dragend",this.onDragend)}},{key:"render",value:function(){return null}}],[{key:"defaultProps",get:function(){return{eventType:"debounce",delay:500}}}]),e}($o.default.Component);je.default=jo;var Be={};Object.defineProperty(Be,"__esModule",{value:!0});var Bo=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Uo=S.exports,Je=nt(Uo),Wo=O,Io=nt(Wo);function nt(t){return t&&t.__esModule?t:{default:t}}function Vo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qo(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ao(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var No=function(t){Ao(e,t);function e(){return Vo(this,e),qo(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Bo(e,[{key:"componentDidMount",value:function(){var n=this,r=new BMap.Autocomplete({input:"suggestId"});r.addEventListener("onconfirm",function(o){n.props.onConfirm&&n.props.onConfirm(o)})}},{key:"render",value:function(){return Je.default.createElement("div",null,Je.default.createElement("input",{style:this.props.style,id:"suggestId"}))}}]),e}(Io.default);Be.default=No;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=re;Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return v(e).default}});var i=G;Object.defineProperty(t,"Marker",{enumerable:!0,get:function(){return v(i).default}});var n=H;Object.defineProperty(t,"MarkerOrderTip",{enumerable:!0,get:function(){return v(n).default}});var r=ae;Object.defineProperty(t,"InfoWindow",{enumerable:!0,get:function(){return v(r).default}});var o=ue;Object.defineProperty(t,"NavigationControl",{enumerable:!0,get:function(){return v(o).default}});var a=le;Object.defineProperty(t,"OverviewMapControl",{enumerable:!0,get:function(){return v(a).default}});var u=fe;Object.defineProperty(t,"ScaleControl",{enumerable:!0,get:function(){return v(u).default}});var l=pe;Object.defineProperty(t,"MapTypeControl",{enumerable:!0,get:function(){return v(l).default}});var f=se;Object.defineProperty(t,"PanoramaControl",{enumerable:!0,get:function(){return v(f).default}});var s=ce;Object.defineProperty(t,"Circle",{enumerable:!0,get:function(){return v(s).default}});var p=he;Object.defineProperty(t,"Polyline",{enumerable:!0,get:function(){return v(p).default}});var c=ye;Object.defineProperty(t,"Polygon",{enumerable:!0,get:function(){return v(c).default}});var h=de;Object.defineProperty(t,"Road",{enumerable:!0,get:function(){return v(h).default}});var m=_e;Object.defineProperty(t,"Boundary",{enumerable:!0,get:function(){return v(m).default}});var _=be;Object.defineProperty(t,"MarkerList",{enumerable:!0,get:function(){return v(_).default}});var y=Oe;Object.defineProperty(t,"MapvMarkerList",{enumerable:!0,get:function(){return v(y).default}});var g=ke;Object.defineProperty(t,"TrafficLayer",{enumerable:!0,get:function(){return v(g).default}});var b=Me;Object.defineProperty(t,"Merge",{enumerable:!0,get:function(){return v(b).default}});var w=Pe;Object.defineProperty(t,"MapvLayer",{enumerable:!0,get:function(){return v(w).default}});var k=Se;Object.defineProperty(t,"MapvglLayer",{enumerable:!0,get:function(){return v(k).default}});var E=De;Object.defineProperty(t,"MapvglView",{enumerable:!0,get:function(){return v(E).default}});var ee=Le;Object.defineProperty(t,"DrivingRoute",{enumerable:!0,get:function(){return v(ee).default}});var B=xe;Object.defineProperty(t,"PointLabel",{enumerable:!0,get:function(){return v(B).default}});var z=Ee;Object.defineProperty(t,"Arc",{enumerable:!0,get:function(){return v(z).default}});var U=Re;Object.defineProperty(t,"ThickRay",{enumerable:!0,get:function(){return v(U).default}});var I=je;Object.defineProperty(t,"MapListener",{enumerable:!0,get:function(){return v(I).default}});var N=Be;Object.defineProperty(t,"Autocomplete",{enumerable:!0,get:function(){return v(N).default}});function v(d){return d&&d.__esModule?d:{default:d}}})(ot);export{ot as l};
