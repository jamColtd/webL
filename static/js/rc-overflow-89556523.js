import{b as F,j as g,a as b,c as x}from"./@babel-ee6b9e1a.js";import{r}from"./react-58122654.js";import{c as ne}from"./classnames-d3968fd4.js";import{R as Ne}from"./rc-resize-observer-7279db65.js";import{f as He,d as he,z as Ye}from"./rc-util-7e6efee8.js";var qe=["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","className","style","children","display","order","component"],E=void 0;function Je(e,f){var v=e.prefixCls,i=e.invalidate,l=e.item,n=e.renderItem,u=e.responsive,S=e.registerSize,o=e.itemKey,y=e.className,p=e.style,h=e.children,X=e.display,B=e.order,c=e.component,H=c===void 0?"div":c,z=F(e,qe),d=u&&!X;function P(R){S(o,R)}r.exports.useEffect(function(){return function(){P(null)}},[]);var Y=n&&l!==E?n(l):h,M;i||(M={opacity:d?0:1,height:d?0:E,overflowY:d?"hidden":E,order:u?B:E,pointerEvents:d?"none":E,position:d?"absolute":E});var I={};d&&(I["aria-hidden"]=!0);var U=r.exports.createElement(H,g({className:ne(!i&&v,y),style:b(b({},M),p)},I,z,{ref:f}),Y);return u&&(U=r.exports.createElement(Ne,{onResize:function(W){var q=W.offsetWidth;P(q)}},U)),U}var K=r.exports.forwardRef(Je);K.displayName="Item";function Qe(){var e=He({}),f=x(e,2),v=f[1],i=r.exports.useRef([]),l=0,n=0;function u(S){var o=l;l+=1,i.current.length<o+1&&(i.current[o]=S);var y=i.current[o];function p(h){i.current[o]=typeof h=="function"?h(i.current[o]):h,he.cancel(n),n=he(function(){v({},!0)})}return[y,p]}return u}var Ze=["component"],et=["className"],tt=["className"],rt=function(f,v){var i=r.exports.useContext(L);if(!i){var l=f.component,n=l===void 0?"div":l,u=F(f,Ze);return r.exports.createElement(n,g({},u,{ref:v}))}var S=i.className,o=F(i,et),y=f.className,p=F(f,tt);return r.exports.createElement(L.Provider,{value:null},r.exports.createElement(K,g({ref:v,className:ne(S,y)},o,p)))},Ce=r.exports.forwardRef(rt);Ce.displayName="RawItem";var at=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],L=r.exports.createContext(null),ge="responsive",Ie="invalidate";function nt(e){return"+ ".concat(e.length," ...")}function st(e,f){var v=e.prefixCls,i=v===void 0?"rc-overflow":v,l=e.data,n=l===void 0?[]:l,u=e.renderItem,S=e.renderRawItem,o=e.itemKey,y=e.itemWidth,p=y===void 0?10:y,h=e.ssr,X=e.style,B=e.className,c=e.maxCount,H=e.renderRest,z=e.renderRawRest,d=e.suffix,P=e.component,Y=P===void 0?"div":P,M=e.itemComponent,I=e.onVisibleChange,U=F(e,at),R=Qe(),W=h==="full",q=R(null),se=x(q,2),O=se[0],we=se[1],N=O||0,Ee=R(new Map),ie=x(Ee,2),oe=ie[0],be=ie[1],ze=R(0),le=x(ze,2),Pe=le[0],Ue=le[1],We=R(0),fe=x(We,2),D=fe[0],ke=fe[1],Ae=R(0),ue=x(Ae,2),V=ue[0],Fe=ue[1],Ke=r.exports.useState(null),ce=x(Ke,2),de=ce[0],$=ce[1],Me=r.exports.useState(null),me=x(Me,2),J=me[0],Oe=me[1],w=r.exports.useMemo(function(){return J===null&&W?Number.MAX_SAFE_INTEGER:J||0},[J,O]),De=r.exports.useState(!1),ve=x(De,2),Ve=ve[0],$e=ve[1],Q="".concat(i,"-item"),xe=Math.max(Pe,D),_=n.length&&c===ge,Se=c===Ie,Te=_||typeof c=="number"&&n.length>c,C=r.exports.useMemo(function(){var t=n;return _?O===null&&W?t=n:t=n.slice(0,Math.min(n.length,N/p)):typeof c=="number"&&(t=n.slice(0,c)),t},[n,p,O,c,_]),Z=r.exports.useMemo(function(){return _?n.slice(w+1):n.slice(C.length)},[n,C,_,w]),T=r.exports.useCallback(function(t,a){var s;return typeof o=="function"?o(t):(s=o&&(t==null?void 0:t[o]))!==null&&s!==void 0?s:a},[o]),je=r.exports.useCallback(u||function(t){return t},[u]);function j(t,a){Oe(t),a||($e(t<n.length-1),I==null||I(t))}function Le(t,a){we(a.clientWidth)}function ye(t,a){be(function(s){var m=new Map(s);return a===null?m.delete(t):m.set(t,a),m})}function Ge(t,a){ke(a),Ue(D)}function Xe(t,a){Fe(a)}function ee(t){return oe.get(T(C[t],t))}Ye(function(){if(N&&xe&&C){var t=V,a=C.length,s=a-1;if(!a){j(0),$(null);return}for(var m=0;m<a;m+=1){var A=ee(m);if(W&&(A=A||0),A===void 0){j(m-1,!0);break}if(t+=A,s===0&&t<=N||m===s-1&&t+ee(s)<=N){j(s),$(null);break}else if(t+xe>N){j(m-1),$(t-A-V+D);break}}d&&ee(0)+V>N&&$(null)}},[N,oe,D,V,T,C]);var pe=Ve&&!!Z.length,Re={};de!==null&&_&&(Re={position:"absolute",left:de,top:0});var k={prefixCls:Q,responsive:_,component:M,invalidate:Se},Be=S?function(t,a){var s=T(t,a);return r.exports.createElement(L.Provider,{key:s,value:b(b({},k),{},{order:a,item:t,itemKey:s,registerSize:ye,display:a<=w})},S(t,a))}:function(t,a){var s=T(t,a);return r.exports.createElement(K,g({},k,{order:a,key:s,item:t,renderItem:je,itemKey:s,registerSize:ye,display:a<=w}))},te,_e={order:pe?w:Number.MAX_SAFE_INTEGER,className:"".concat(Q,"-rest"),registerSize:Ge,display:pe};if(z)z&&(te=r.exports.createElement(L.Provider,{value:b(b({},k),_e)},z(Z)));else{var re=H||nt;te=r.exports.createElement(K,g({},k,_e),typeof re=="function"?re(Z):re)}var ae=r.exports.createElement(Y,g({className:ne(!Se&&i,B),style:X,ref:f},U),C.map(Be),Te?te:null,d&&r.exports.createElement(K,g({},k,{order:w,className:"".concat(Q,"-suffix"),registerSize:Xe,display:!0,style:Re}),d));return _&&(ae=r.exports.createElement(Ne,{onResize:Le},ae)),ae}var G=r.exports.forwardRef(st);G.displayName="Overflow";G.Item=Ce;G.RESPONSIVE=ge;G.INVALIDATE=Ie;export{G as F};
