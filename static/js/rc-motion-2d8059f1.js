import{_ as ue,c as N,d as T,a as d,e as ke,f as Ce,g as Le,i as Re,b as Ee,j as $e}from"./@babel-ee6b9e1a.js";import{r as s}from"./react-58122654.js";import{c as ce,d as Se,f as Z,x as We,s as ze,y as qe}from"./rc-util-852b41a6.js";import{c as Be}from"./classnames-d3968fd4.js";function ye(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function Ge(t,e){var n={animationend:ye("Animation","AnimationEnd"),transitionend:ye("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var He=Ge(ce(),typeof window!="undefined"?window:{}),_e={};if(ce()){var Je=document.createElement("div");_e=Je.style}var H={};function Me(t){if(H[t])return H[t];var e=He[t];if(e)for(var n=Object.keys(e),r=n.length,a=0;a<r;a+=1){var u=n[a];if(Object.prototype.hasOwnProperty.call(e,u)&&u in _e)return H[t]=e[u],H[t]}return""}var Pe=Me("animationend"),be=Me("transitionend"),Oe=!!(Pe&&be),Ae=Pe||"animationend",he=be||"transitionend";function xe(t,e){if(!t)return null;if(ue(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}var U="none",J="appear",X="enter",Y="leave",ge="none",R="prepare",I="start",Q="active",ve="end",Xe=function(){var t=s.exports.useRef(null);function e(){Se.cancel(t.current)}function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var u=Se(function(){a<=1?r({isCanceled:function(){return u!==t.current}}):n(r,a-1)});t.current=u}return s.exports.useEffect(function(){return function(){e()}},[]),[n,e]},Ne=ce()?s.exports.useLayoutEffect:s.exports.useEffect,Te=[R,I,Q,ve],De=!1,Ye=!0;function Ve(t){return t===Q||t===ve}var Ze=function(t,e){var n=Z(ge),r=N(n,2),a=r[0],u=r[1],o=Xe(),l=N(o,2),y=l[0],i=l[1];function c(){u(R,!0)}return Ne(function(){if(a!==ge&&a!==ve){var v=Te.indexOf(a),f=Te[v+1],p=e(a);p===De?u(f,!0):y(function(A){function k(){A.isCanceled()||u(f,!0)}p===!0?k():Promise.resolve(p).then(k)})}},[t,a]),s.exports.useEffect(function(){return function(){i()}},[]),[c,a]},et=function(t){var e=s.exports.useRef(),n=s.exports.useRef(t);n.current=t;var r=s.exports.useCallback(function(o){n.current(o)},[]);function a(o){o&&(o.removeEventListener(he,r),o.removeEventListener(Ae,r))}function u(o){e.current&&e.current!==o&&a(e.current),o&&o!==e.current&&(o.addEventListener(he,r),o.addEventListener(Ae,r),e.current=o)}return s.exports.useEffect(function(){return function(){a(e.current)}},[]),[u,a]};function tt(t,e,n,r){var a=r.motionEnter,u=a===void 0?!0:a,o=r.motionAppear,l=o===void 0?!0:o,y=r.motionLeave,i=y===void 0?!0:y,c=r.motionDeadline,v=r.motionLeaveImmediately,f=r.onAppearPrepare,p=r.onEnterPrepare,A=r.onLeavePrepare,k=r.onAppearStart,C=r.onEnterStart,g=r.onLeaveStart,w=r.onAppearActive,_=r.onEnterActive,M=r.onLeaveActive,P=r.onAppearEnd,L=r.onEnterEnd,D=r.onLeaveEnd,V=r.onVisibleChanged,q=Z(),b=N(q,2),m=b[0],j=b[1],F=Z(U),O=N(F,2),h=O[0],$=O[1],W=Z(null),fe=N(W,2),we=fe[0],de=fe[1],ee=s.exports.useRef(!1),te=s.exports.useRef(null);function B(){return n()}var le=s.exports.useRef(!1);function pe(E){var S=B();if(!(E&&!E.deadline&&E.target!==S)){var x=le.current,G;h===J&&x?G=P==null?void 0:P(S,E):h===X&&x?G=L==null?void 0:L(S,E):h===Y&&x&&(G=D==null?void 0:D(S,E)),h!==U&&x&&G!==!1&&($(U,!0),de(null,!0))}}var je=et(pe),Fe=N(je,1),Ke=Fe[0],z=s.exports.useMemo(function(){var E,S,x;switch(h){case J:return E={},T(E,R,f),T(E,I,k),T(E,Q,w),E;case X:return S={},T(S,R,p),T(S,I,C),T(S,Q,_),S;case Y:return x={},T(x,R,A),T(x,I,g),T(x,Q,M),x;default:return{}}},[h]),Ue=Ze(h,function(E){if(E===R){var S=z[R];return S?S(B()):De}if(K in z){var x;de(((x=z[K])===null||x===void 0?void 0:x.call(z,B(),null))||null)}return K===Q&&(Ke(B()),c>0&&(clearTimeout(te.current),te.current=setTimeout(function(){pe({deadline:!0})},c))),Ye}),me=N(Ue,2),Ie=me[0],K=me[1],Qe=Ve(K);le.current=Qe,Ne(function(){j(e);var E=ee.current;if(ee.current=!0,!!t){var S;!E&&e&&l&&(S=J),E&&e&&u&&(S=X),(E&&!e&&i||!E&&v&&!e&&i)&&(S=Y),S&&($(S),Ie())}},[e]),s.exports.useEffect(function(){(h===J&&!l||h===X&&!u||h===Y&&!i)&&$(U)},[l,u,i]),s.exports.useEffect(function(){return function(){ee.current=!1,clearTimeout(te.current)}},[]),s.exports.useEffect(function(){m!==void 0&&h===U&&(V==null||V(m))},[m,h]);var ne=we;return z[R]&&K===I&&(ne=d({transition:"none"},ne)),[h,K,ne,m!=null?m:e]}var nt=function(t){ke(n,t);var e=Ce(n);function n(){return Le(this,n),e.apply(this,arguments)}return Re(n,[{key:"render",value:function(){return this.props.children}}]),n}(s.exports.Component);function rt(t){var e=t;ue(t)==="object"&&(e=t.transitionSupport);function n(a){return!!(a.motionName&&e)}var r=s.exports.forwardRef(function(a,u){var o=a.visible,l=o===void 0?!0:o,y=a.removeOnLeave,i=y===void 0?!0:y,c=a.forceRender,v=a.children,f=a.motionName,p=a.leavedClassName,A=a.eventProps,k=n(a),C=s.exports.useRef(),g=s.exports.useRef();function w(){try{return C.current instanceof HTMLElement?C.current:qe(g.current)}catch(W){return null}}var _=tt(k,l,w,a),M=N(_,4),P=M[0],L=M[1],D=M[2],V=M[3],q=s.exports.useRef(V);V&&(q.current=!0);var b=s.exports.useCallback(function(W){C.current=W,We(u,W)},[u]),m,j=d(d({},A),{},{visible:l});if(!v)m=null;else if(P===U||!n(a))V?m=v(d({},j),b):!i&&q.current?m=v(d(d({},j),{},{className:p}),b):c?m=v(d(d({},j),{},{style:{display:"none"}}),b):m=null;else{var F,O;L===R?O="prepare":Ve(L)?O="active":L===I&&(O="start"),m=v(d(d({},j),{},{className:Be(xe(f,P),(F={},T(F,xe(f,"".concat(P,"-").concat(O)),O),T(F,f,typeof f=="string"),F)),style:D}),b)}if(s.exports.isValidElement(m)&&ze(m)){var h=m,$=h.ref;$||(m=s.exports.cloneElement(m,{ref:b}))}return s.exports.createElement(nt,{ref:g},m)});return r.displayName="CSSMotion",r}var at=rt(Oe),ae="add",oe="keep",ie="remove",re="removed";function ot(t){var e;return t&&ue(t)==="object"&&"key"in t?e=t:e={key:t},d(d({},e),{},{key:String(e.key)})}function se(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(ot)}function it(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,a=e.length,u=se(t),o=se(e);u.forEach(function(i){for(var c=!1,v=r;v<a;v+=1){var f=o[v];if(f.key===i.key){r<v&&(n=n.concat(o.slice(r,v).map(function(p){return d(d({},p),{},{status:ae})})),r=v),n.push(d(d({},f),{},{status:oe})),r+=1,c=!0;break}}c||n.push(d(d({},i),{},{status:ie}))}),r<a&&(n=n.concat(o.slice(r).map(function(i){return d(d({},i),{},{status:ae})})));var l={};n.forEach(function(i){var c=i.key;l[c]=(l[c]||0)+1});var y=Object.keys(l).filter(function(i){return l[i]>1});return y.forEach(function(i){n=n.filter(function(c){var v=c.key,f=c.status;return v!==i||f!==ie}),n.forEach(function(c){c.key===i&&(c.status=oe)})}),n}var st=["component","children","onVisibleChanged","onAllRemoved"],ut=["status"],ct=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function vt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at,n=function(r){ke(u,r);var a=Ce(u);function u(){var o;Le(this,u);for(var l=arguments.length,y=new Array(l),i=0;i<l;i++)y[i]=arguments[i];return o=a.call.apply(a,[this].concat(y)),o.state={keyEntities:[]},o.removeKey=function(c){var v=o.state.keyEntities,f=v.map(function(p){return p.key!==c?p:d(d({},p),{},{status:re})});return o.setState({keyEntities:f}),f.filter(function(p){var A=p.status;return A!==re}).length},o}return Re(u,[{key:"render",value:function(){var l=this,y=this.state.keyEntities,i=this.props,c=i.component,v=i.children,f=i.onVisibleChanged,p=i.onAllRemoved,A=Ee(i,st),k=c||s.exports.Fragment,C={};return ct.forEach(function(g){C[g]=A[g],delete A[g]}),delete A.keys,s.exports.createElement(k,A,y.map(function(g){var w=g.status,_=Ee(g,ut),M=w===ae||w===oe;return s.exports.createElement(e,$e({},C,{key:_.key,visible:M,eventProps:_,onVisibleChanged:function(L){if(f==null||f(L,{key:_.key}),!L){var D=l.removeKey(_.key);D===0&&p&&p()}}}),v)}))}}],[{key:"getDerivedStateFromProps",value:function(l,y){var i=l.keys,c=y.keyEntities,v=se(i),f=it(c,v);return{keyEntities:f.filter(function(p){var A=c.find(function(k){var C=k.key;return p.key===C});return!(A&&A.status===re&&p.status===ie)})}}}]),u}(s.exports.Component);return n.defaultProps={component:"div"},n}var mt=vt(Oe);export{at as C,mt as a};
