System.register(["./react-legacy-700da723.js","./react-dom-legacy-f02cb59a.js","./kits-js-legacy-8c945e98.js","./mapv-legacy-5a831596.js","./mapvgl-legacy-993a6381.js"],(function(e){"use strict";var t,n,o,r,i;return{setters:[function(e){t=e.r},function(e){n=e.r},function(e){o=e.l},function(e){r=e.m},function(e){i=e.m}],execute:function(){var a=e("l",{}),s={},l={};Object.defineProperty(l,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"bindEvent",value:function(e,t){var n=this;t&&t.forEach((function(t){e.addEventListener(t,(function(){n.props.events&&n.props.events[t]&&n.props.events[t].apply(n,arguments)}))}))}},{key:"bindToggleMeghods",value:function(e,t){for(var n in t)void 0!==this.props[n]&&(this.props[n]?e[t[n][0]]():e[t[n][1]]())}},{key:"getOptions",value:function(e){var t=this,n={};return e.map((function(e){void 0!==t.props[e]&&(n[e]=t.props[e])})),n}},{key:"render",value:function(){return null}}]),t}(t.exports.Component);l.default=u;var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},Object.defineProperty(s,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=b(t.exports),y=b(l),d=c;function b(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),f(t,[{key:"componentDidMount",value:function(){this.initMap(),this.forceUpdate()}},{key:"componentDidUpdate",value:function(e){var t=e.center,n=this.props.center;if((0,d.isString)(n))t!=n&&this.map.centerAndZoom(n);else{var o=t&&n&&(t.lng!=n.lng||t.lat!=n.lat||this.props.forceUpdate),r=e.zoom!==this.props.zoom&&(this.props.zoom||this.props.forceUpdate);n=new BMap.Point(n.lng,n.lat),o&&r?this.map.centerAndZoom(n,this.props.zoom):o?this.map.setCenter(n):r&&this.map.zoomTo(this.props.zoom)}}},{key:"initMap",value:function(){var e=this,t=this.options;t=this.getOptions(t),!0!==this.props.enableMapClick&&(t.enableMapClick=!1);var n=new BMap.Map(this.refs.map,t);this.map=n;var o=this.props.zoom;if(this.bindEvent(n,this.events),(0,d.isString)(this.props.center))n.centerAndZoom(this.props.center);else{var r=new BMap.Point(this.props.center.lng,this.props.center.lat);n.centerAndZoom(r,o)}this.props.mapStyleV2?n.setMapStyleV2(this.props.mapStyleV2):this.props.mapStyle&&n.setMapStyle(this.props.mapStyle),this.bindToggleMeghods(n,this.toggleMethods);var i=o;n.addEventListener("zoomend",(function(){var t=n.getZoom();e.props.zoom_changed&&e.props.zoom_changed(t,i),i=t}))}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t&&this.map)return h.default.Children.map(t,(function(t){if(t)return"string"==typeof t.type?t:h.default.cloneElement(t,{map:e.map})}))}},{key:"onRender",value:function(){if(this.props.render&&this.map)return this.props.render(this.map)}},{key:"render",value:function(){var e={height:"100%",position:"relative"};for(var t in this.props.style)e[t]=this.props.style[t];return h.default.createElement("div",{style:e,key:this.props.keys},h.default.createElement("div",{ref:"map",className:this.props.className,style:{height:"100%"}},"加载地图中..."),this.renderChildren(),this.onRender())}},{key:"events",get:function(){return["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"]}},{key:"toggleMethods",get:function(){return{enableScrollWheelZoom:["enableScrollWheelZoom","disableScrollWheelZoom"],enableDragging:["enableDragging","disableDragging"],enableDoubleClickZoom:["enableDoubleClickZoom","disableDoubleClickZoom"],enableKeyboard:["enableKeyboard","disableKeyboard"],enableInertialDragging:["enableInertialDragging","disableInertialDragging"],enableContinuousZoom:["enableContinuousZoom","disableContinuousZoom"],enablePinchToZoom:["enablePinchToZoom","disablePinchToZoom"],enableAutoResize:["enableAutoResize","disableAutoResize"]}}},{key:"options",get:function(){return["minZoom","maxZoom","mapType","enableMapClick"]}}],[{key:"defaultProps",get:function(){return{style:{height:"350px"}}}}]),t}(y.default);s.default=v;var m={},g={};Object.defineProperty(g,"__esModule",{value:!0});var w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),O=M(t.exports),P=M(m),k=o;function M(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createMarker=n.createMarker.bind(n),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_(t,[{key:"componentDidUpdate",value:function(e){JSON.stringify(e.data)!=JSON.stringify(this.props.data)||this.map}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"createMarker",value:function(){var e=this,t=this.props,n=t.position,o=t.num,r=t.rate,i=t.name,a=t.rightModule,s=t.order,l=t.visible,p=void 0===l||l,u=k.bmap.createPoint(n),c=!0;r&&(r.indexOf("-")>-1&&(c=!1,r=r.replace(/-/,"")),r.indexOf("+")>-1&&(c=!0,r=r.replace("+","")),0==r.length&&(r="_"));var f={display:"flex",justifyContent:"space-between",background:"#FFFFFF",alignItems:"stretch",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, 0.22)",borderRadius:"3px 0 0 3px",minWidth:"155px",minHeight:"50px",marginTop:"-25px"},h={minWidth:"30px",background:"#999999",color:"white",padding:"auto 0",display:"flex",justifyContent:"center",alignItems:"center"};this.props.active&&(h.background="#F5533D"),this.props.leftStyle&&(h=k.obj.merge(h,this.props.leftStyle)),this.props.style&&(f=k.obj.merge(f,this.props.style));var y={flex:"1",padding:"6px",justifyContent:"center",alignItems:"center",fontSize:"12px",color:"#8D93A3",letterSpacing:"0.6px"};this.props.rightStyle&&(y=k.obj.merge(y,this.props.rightStyle));var d=Object.keys(e.props).filter((function(e){return 0==e.indexOf("on")})),b=[];if(d.map((function(t){b[t]=e.props[t]})),p)return O.default.createElement(P.default,{key:JSON.stringify(u)+Math.random(),map:this.props.map,position:u,zIndex:e.props.zIndex},O.default.createElement("div",w({key:JSON.stringify(u)+Math.random(),style:f},b),O.default.createElement("div",{style:h},s),O.default.createElement("div",{style:y},!a&&O.default.createElement("div",null,"  ",o+"("+r,c?O.default.createElement("img",{style:{width:"8px",height:"auto",margin:"1px"},src:"//huiyan.baidu.com/cms/react-bmap/up.png"}):O.default.createElement("img",{style:{width:"8px",height:"auto",margin:"1px"},src:"//huiyan.baidu.com/cms/react-bmap/down.png"}),")"),a||O.default.createElement("div",null,"  ",i," "))))}},{key:"render",value:function(){return this.createMarker()}}],[{key:"defaultProps",get:function(){return{autoViewport:!0}}}]),t}(O.default.Component);g.default=S;var j={};function x(e,t,n){this.options=n||{},this._point=e,this.content=t}Object.defineProperty(j,"__esModule",{value:!0}),x.prototype=new BMap.Overlay,x.prototype.initialize=function(e){this._map=e;var t=this._div=document.createElement("div");t.setAttribute("tag","customoverlay"),t.style.position="absolute";var n=this.options.zIndex||BMap.Overlay.getZIndex(this._point.lat);t.style.zIndex=n,t.addEventListener("touchstart",(function(e){e.stopPropagation()})),t.addEventListener("touchend",(function(e){e.stopPropagation()})),"[object String]"==Object.prototype.toString.call(this.content)?t.innerHTML=this.content:t.appendChild(this.content);var o=this.options.pane||"labelPane";return e.getPanes()[o].appendChild(t),t},x.prototype.draw=function(){var e=this._map.pointToOverlayPixel(this._point),t=this.options.offset||new BMap.Size(0,0);this._div.style.left=e.x+t.width+"px",this._div.style.top=e.y+t.height+"px"},j.default=x,Object.defineProperty(m,"__esModule",{value:!0});var L=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),T=B(t.exports),C=n.exports,E=B(l),z=B(g),D=B(j);function B(e){return e&&e.__esModule?e:{default:e}}for(var R=window.Huiyan_Makers_IMG||"//huiyan.baidu.com/cms/react-bmap/markers_new2x_fbb9e99.png",I={simple_red:new BMap.Icon(R,new BMap.Size(21,33),{imageOffset:new BMap.Size(-227,-189),anchor:new BMap.Size(10.5,33),imageSize:new BMap.Size(300,300)}),simple_blue:new BMap.Icon(R,new BMap.Size(21,33),{imageOffset:new BMap.Size(-227,-225),anchor:new BMap.Size(10.5,33),imageSize:new BMap.Size(300,300)}),loc_red:new BMap.Icon(R,new BMap.Size(23,35),{imageOffset:new BMap.Size(-200,-189),anchor:new BMap.Size(11.5,35),imageSize:new BMap.Size(300,300)}),loc_blue:new BMap.Icon(R,new BMap.Size(23,35),{imageOffset:new BMap.Size(-200,-225),anchor:new BMap.Size(11.5,35),imageSize:new BMap.Size(300,300)}),start:new BMap.Icon(R,new BMap.Size(25,40),{imageOffset:new BMap.Size(-200,-139),anchor:new BMap.Size(12.5,40),imageSize:new BMap.Size(300,300)}),end:new BMap.Icon(R,new BMap.Size(25,40),{imageOffset:new BMap.Size(-225,-139),anchor:new BMap.Size(12.5,40),imageSize:new BMap.Size(300,300)}),location:new BMap.Icon(R,new BMap.Size(14,20),{imageOffset:new BMap.Size(-124,-233),anchor:new BMap.Size(7,20),imageSize:new BMap.Size(300,300)})},W=1;W<=10;W++)I["red"+W]=new BMap.Icon(R,new BMap.Size(21,33),{imageOffset:new BMap.Size(0-21*(W-1),0),anchor:new BMap.Size(10.5,33),imageSize:new BMap.Size(300,300)});for(W=1;W<=10;W++)I["blue"+W]=new BMap.Icon(R,new BMap.Size(21,33),{imageOffset:new BMap.Size(0-21*(W-1),-66),anchor:new BMap.Size(10.5,33),imageSize:new BMap.Size(300,300)});var N=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),L(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.marker&&(this.props.map.removeOverlay(this.marker),this.marker=null)}},{key:"initialize",value:function(){var e=this.props.map;if("order_tip"!=this.props.type&&e){var t;this.destroy();var n=this.props.icon;if(t=n&&n instanceof BMap.Icon?n:n&&I[n]?I[n]:I.simple_red,"bd09mc"===this.props.coordType)var o=e.getMapType().getProjection().pointToLngLat(new BMap.Pixel(this.props.position.lng,this.props.position.lat));else o=new BMap.Point(this.props.position.lng,this.props.position.lat);if("children"in this.props){this.contentDom=document.createElement("div");var r=this.props.children;(0,C.render)(T.default.createElement("div",null,r),this.contentDom),this.marker=new D.default(o,this.contentDom,{zIndex:this.props.zIndex,pane:this.props.pane,offset:this.props.offset}),e.addOverlay(this.marker)}else{var i=this.getOptions(this.options);i.icon=t,this.marker=new BMap.Marker(o,i),this.props.isTop&&this.marker.setTop(!0),this.bindEvent(this.marker,this.events),e.addOverlay(this.marker),this.bindToggleMeghods(this.marker,this.toggleMethods)}this.props.autoViewport&&e.setViewport([o],this.props.ViewportOptions)}}},{key:"render",value:function(){return"order_tip"==this.props.type?T.default.createElement(z.default,this.props):null}},{key:"events",get:function(){return["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"]}},{key:"toggleMethods",get:function(){return{enableMassClear:["enableMassClear","disableMassClear"],enableDragging:["enableDragging","disableDragging"]}}},{key:"options",get:function(){return["offset","icon","enableMassClear","enableDragging","enableClicking","raiseOnDrag","draggingCursor","rotation","shadow","title"]}}],[{key:"defaultProps",get:function(){return{}}}]),t}(E.default);m.default=N;var V={};Object.defineProperty(V,"__esModule",{value:!0});var U,A=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Z=n.exports,J=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),A(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.props.map.closeInfoWindow(),this.infoWindow=null}},{key:"initialize",value:function(){var e=this.props.map;if(e&&(this.destroy(),this.infoWindow=new BMap.InfoWindow(this.props.text||"",this.getOptions(this.options)),this.bindEvent(this.infoWindow,this.events),e.openInfoWindow(this.infoWindow,new BMap.Point(this.props.position.lng,this.props.position.lat)),"children"in this.props)){var t=document.createElement("div");(0,Z.render)(this.props.children,t),this.infoWindow.setContent(t)}}},{key:"options",get:function(){return["width","height","maxWidth","offset","title","enableAutoPan","enableCloseOnClick","enableMessage","message"]}},{key:"events",get:function(){return["close","open","maximize","restore","clickclose"]}}]),t}(((U=l)&&U.__esModule?U:{default:U}).default);V.default=J;var q={},F={};Object.defineProperty(F,"__esModule",{value:!0});var Y=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),H=function(e){return e&&e.__esModule?e:{default:e}}(l),X=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Y(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.props.map.removeControl(this.control),this.control=null}},{key:"initialize",value:function(){var e=this.props.map;e&&(this.destroy(),this.control=this.getControl(),e.addControl(this.control))}},{key:"getControl",value:function(){return null}}]),t}(H.default);F.default=X,Object.defineProperty(q,"__esModule",{value:!0});var G=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),K=function(e){return e&&e.__esModule?e:{default:e}}(F),$=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),G(t,[{key:"getControl",value:function(){return new BMap.NavigationControl(this.getOptions(this.options))}},{key:"options",get:function(){return["anchor","offset","type","showZoomInfo","enableGeolocation"]}}]),t}(K.default);q.default=$;var Q={};Object.defineProperty(Q,"__esModule",{value:!0});var ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),te=function(e){return e&&e.__esModule?e:{default:e}}(F),ne=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ee(t,[{key:"getControl",value:function(){return new BMap.OverviewMapControl(this.getOptions(this.options))}},{key:"options",get:function(){return["anchor","offset","size","isOpen"]}}]),t}(te.default);Q.default=ne;var oe={};Object.defineProperty(oe,"__esModule",{value:!0});var re=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),ie=function(e){return e&&e.__esModule?e:{default:e}}(F),ae=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),re(t,[{key:"getControl",value:function(){return new BMap.ScaleControl(this.getOptions(this.options))}},{key:"options",get:function(){return["anchor","offset"]}}]),t}(ie.default);oe.default=ae;var se={};Object.defineProperty(se,"__esModule",{value:!0});var le=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),pe=function(e){return e&&e.__esModule?e:{default:e}}(F),ue=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),le(t,[{key:"getControl",value:function(){return new BMap.MapTypeControl(this.getOptions(this.options))}},{key:"options",get:function(){return["anchor","offset","type","mapTypes"]}}]),t}(pe.default);se.default=ue;var ce={};Object.defineProperty(ce,"__esModule",{value:!0});var fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),he=function(e){return e&&e.__esModule?e:{default:e}}(F),ye=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),fe(t,[{key:"getControl",value:function(){return new BMap.PanoramaControl(this.getOptions(this.options))}},{key:"options",get:function(){return["anchor","offset"]}}]),t}(he.default);ce.default=ye;var de={},be={};Object.defineProperty(be,"__esModule",{value:!0});var ve=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),me=function(e){return e&&e.__esModule?e:{default:e}}(l),ge=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ve(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.props.map.removeOverlay(this.overlay),this.overlay=null}},{key:"initialize",value:function(){var e=this.props.map;if(e){this.destroy(),this.overlay=this.getOverlay(),this.bindEvent(this.overlay,this.events),e.addOverlay(this.overlay);var t=this.overlay.getPath();t&&t.length>0&&!0===this.props.autoViewport&&e.setViewport(t,this.props.viewportOptions)}}},{key:"getOverlay",value:function(){return null}},{key:"options",get:function(){return["strokeColor","fillColor","strokeWeight","strokeOpacity","fillOpacity","strokeStyle","enableMassClear","enableEditing","enableClicking"]}},{key:"events",get:function(){return["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"]}}]),t}(me.default);be.default=ge,Object.defineProperty(de,"__esModule",{value:!0});var we=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_e=function(e){return e&&e.__esModule?e:{default:e}}(be),Oe=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),we(t,[{key:"getOverlay",value:function(){var e=this.props.center,t=this.props.radius;return new BMap.Circle(e,t,this.getOptions(this.options))}}]),t}(_e.default);de.default=Oe;var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});var ke=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Me=function(e){return e&&e.__esModule?e:{default:e}}(be),Se=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ke(t,[{key:"getOverlay",value:function(){var e=this.props.path;return e=e.map((function(e){return new BMap.Point(e.lng,e.lat)})),new BMap.Polyline(e,this.getOptions(this.options))}}]),t}(Me.default);Pe.default=Se;var je={};Object.defineProperty(je,"__esModule",{value:!0});var xe=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Le=function(e){return e&&e.__esModule?e:{default:e}}(be),Te=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xe(t,[{key:"getOverlay",value:function(){var e=this.props.path;return e=e.map((function(e){return new BMap.Point(e.lng,e.lat)})),new BMap.Polygon(e,this.getOptions(this.options))}}]),t}(Le.default);je.default=Te;var Ce={},Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});var ze={0:"#fff",1:"#00dc35",2:"#f3e032",3:"#ff6c6c",4:"#900000"},De={drawRoads:function(e,t,n){var o,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.getZoom(),a=r.lineWidth||5,s=void 0===r.level?1:r.level,l=null,p=0,u=0,c=[],f=[],h=[],y=0,d=0;t.beginPath();var b=Math.pow(2,18-e.getZoom()),v=e.getMapType().getProjection(),m=v.lngLatToPoint(e.getCenter()),g=new BMap.Pixel(m.x-e.getSize().width/2*b,m.y+e.getSize().height/2*b);return n.forEach((function(n,i){l=null;for(var a=n.split(","),s=0;s<a.length;s+=2){var v=new BMap.Point(a[s],a[s+1]);f.push(v),o="bd09mc"===r.coordType?{x:(v.lng-g.x)/b,y:(g.y-v.lat)/b}:e.pointToPixel(v);var m=void 0;if(l){var w=o.x-l.x,_=o.y-l.y;p=Math.sqrt(w*w+_*_),u+=p,r.arrow&&(m={start:l,end:o,offset:50-((y+=p)-p),depth:p,totalDepth:d+=p},c.push(m),y>=50&&(h.push(m),y%=50))}l=o,0===s?t.moveTo(o.x,o.y):(u>15||s>=a.length-2)&&(u=0,t.lineTo(o.x,o.y))}if(r.arrow&&i===n.length-1&&d<100){var O=c[Math.ceil(c.length/2)];for(var P in c)if(c[P].totalDepth>=d/2){O=c[P+1]?c[P+1]:c[P];break}var k=c[c.length-1];O.end=k.end,(h=[]).push(O)}})),r.line&&(t.lineCap=r.lineCap||"round",t.lineJoin="round",r.border&&(t.strokeStyle=r.border.color||"white",t.lineWidth=(i<=13?a-2:a)+(2*r.border.lineWidth||4),t.stroke()),t.strokeStyle=r.color||ze[s]||"#fc2c2b",t.lineWidth=i<=13?a-2:a,t.stroke()),r.arrow&&this.drawArrow(t,h,r),f},drawArrow:function(e,t,n){e.beginPath(),t.forEach((function(o){var r=o.start.x,i=o.start.y,a=o.end.x-r,s=o.end.y-i,l=[0,-1],p=[o.end.x-o.start.x,o.end.y-o.start.y],u=l[0]*p[0]+l[1]*p[1],c=Math.sqrt(l[0]*l[0]+l[1]*l[1]),f=Math.sqrt(p[0]*p[0]+p[1]*p[1]),h=Math.acos(u/(c*f));p[0]<0&&(h=2*Math.PI-h);for(var y=n.arrow.width/2||2,d=n.arrow.height||y,b=0;o.offset+50*b<=o.depth;){var v=(o.offset+50*b)/o.depth;e.save(),e.translate(r+a*v,i+s*v),e.rotate(h),e.moveTo(1.618*-y,d),e.lineTo(0,0),e.lineTo(1.618*y,d),e.restore(),b+=1}1===t.length&&o.offset>o.depth&&(e.save(),e.translate(r,i),e.rotate(h),e.moveTo(1.618*-y,d),e.lineTo(0,0),e.lineTo(1.618*y,d),e.restore())})),e.strokeStyle=n.arrow.color||"#fff",e.lineWidth=3,e.stroke()}};Ee.default=De;var Be={};Object.defineProperty(Be,"__esModule",{value:!0});var Re={mergeRoadPath:function(e,t){for(var n=[],o=0;o<e.length;o++)if(0==n.length)n.push(e[o]);else{var r=e[o].split(","),i=n[n.length-1].split(",");if(r[0]===i[i.length-2]&&r[1]===i[i.length-1]){var a=r.slice(2);n[n.length-1]+=","+a.join(",")}else n.push(e[o])}return n},uniqueRoadPath:function(e){for(var t=0;t<e.length-1;t++)if(e[t])for(var n=e[t].split(","),o=t+1;o<e.length;o++)if(e[o]){for(var r=e[o].split(","),i=!0,a=0;a<r.length;a+=2)0==this.isPointOnPolyline({lng:r[a],lat:r[a+1]},n)&&(i=!1);i&&delete e[o]}return e},isPointOnPolyline:function(e,t){for(var n=t,o=0;o<n.length-2;o++){var r={lng:n[o],lat:n[o+1]},i={lng:n[o+2],lat:n[o+3]};if(e.lng>=Math.min(r.lng,i.lng)&&e.lng<=Math.max(r.lng,i.lng)&&e.lat>=Math.min(r.lat,i.lat)&&e.lat<=Math.max(r.lat,i.lat)){var a=(r.lng-e.lng)*(i.lat-e.lat)-(i.lng-e.lng)*(r.lat-e.lat);if(a<2e-9&&a>-2e-9)return!0}}return!1}};Be.default=Re,Object.defineProperty(Ce,"__esModule",{value:!0});var Ie=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),We=Ae(l),Ne=r.exports,Ve=Ae(Ee),Ue=Ae(Be);function Ae(e){return e&&e.__esModule?e:{default:e}}var Ze=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ie(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"getRoadPoints",value:function(e){for(var t=this.props.map.getMapType().getProjection(),n=[],o=0;o<e.length;o++)for(var r=e[o].split(","),i=0;i<r.length;i+=2)"bd09mc"===this.props.coordType?n.push(t.pointToLngLat(new BMap.Pixel(r[i],r[i+1]))):n.push(new BMap.Point(r[i],r[i+1]));return n}},{key:"updateViewport",value:function(){var e=this;this.props.roadPath;var t=[];this.props.roadPaths?this.props.roadPaths.forEach((function(n){t=t.concat(e.getRoadPoints(n))})):this.props.roadPath&&(t=t.concat(this.getRoadPoints(this.props.roadPath))),t.length>0&&!1!==this.props.autoViewport&&this.props.map.setViewport(t,this.props.viewportOptions)}},{key:"getRoadGroup",value:function(e,t,n){var o={},r=[];if(t)for(var i=0;i<t.length;i++)o[t[i]]||(o[t[i]]={roadPath:[],color:n[t[i]]}),r.push(e[i]),o[t[i]].roadPath.push(e[i]);else o[0]={roadPath:e,color:this.props.color||"#1495ff"};return{group:o,allPath:Ue.default.mergeRoadPath(e)}}},{key:"isClick",value:function(e,t,n){var o=this.canvasLayer.canvas.getContext("2d"),r=this.getRoadGroup(n);o.beginPath();var i=this.props.lineWidth||10;return Ve.default.drawRoads(e,o,r.allPath,{color:this.props.bgColor||"#fff",lineWidth:i+4,lineCap:"butt",arrow:!1,line:!1}),o.lineWidth=i+6,o.isPointInStroke(t.x*window.devicePixelRatio,t.y*window.devicePixelRatio)}},{key:"initialize",value:function(){var e=this,t=this.props.map;if(t){var n=this.canvasLayerUpdate.bind(this);this.canvasLayer?this.canvasLayer.draw():(this.canvasLayer=new Ne.baiduMapCanvasLayer({zIndex:this.props.zIndex,map:t,update:function(){n(this)}}),this.props.onClick&&t.addEventListener("click",(function(n){if(e.props.roadPaths)for(var o=0;o<e.props.roadPaths.length;o++){var r=e.props.roadPaths[o];e.isClick(t,n.pixel,r)&&e.props.onClick(o)}else e.props.roadPath&&e.isClick(t,n.pixel,e.props.roadPath)&&e.props.onClick()}))),this.updateViewport()}}},{key:"canvasLayerUpdate",value:function(e){var t=this,n=e.canvas.getContext("2d");if(!n)return!1;n.clearRect(0,0,n.canvas.width,n.canvas.height);var o=this.props.roadPath,r=this.props.roadPaths,i=this.props.lineWidth||10;r?r.forEach((function(e,o){t.props.lineWidths&&(i=t.props.lineWidths[o]),t.drawRoad(n,e,t.props.category,t.props.splitList,i)})):o&&this.drawRoad(n,this.props.roadPath,this.props.category,this.props.splitList,i)}},{key:"drawRoad",value:function(e,t,n,o,r){var i=this.getRoadGroup(t,n,o),a=i.group;for(var s in Ve.default.drawRoads(this.props.map,e,i.allPath,{color:this.props.bgColor||"#fff",coordType:this.props.coordType,lineWidth:r+4,lineCap:"butt",arrow:!1,line:!0}),a){var l=a[s];t=Ue.default.mergeRoadPath(l.roadPath),Ve.default.drawRoads(this.props.map,e,t,{color:l.color,coordType:this.props.coordType,line:!0,lineWidth:r,lineCap:"butt",arrow:!1})}Ve.default.drawRoads(this.props.map,e,i.allPath,{color:l.color,coordType:this.props.coordType,lineWidth:r,border:{},lineCap:"butt",arrow:!1!==this.props.isShowArrow&&{width:5,height:3,color:this.props.arrowColor}})}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.canvasLayer.hide()}}]),t}(We.default);Ce.default=Ze;var Je={};Object.defineProperty(Je,"__esModule",{value:!0});var qe=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Fe=function(e){return e&&e.__esModule?e:{default:e}}(l),Ye=r.exports,He=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),qe(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this._allRequest={},this._backData={},this.initialize()}},{key:"componentWillUnmount",value:function(){this.mapvLayer&&(this.mapvLayer.destroy(),this.mapvLayer=null)}},{key:"getPointArrayByDataSetData",value:function(e){for(var t=[],n=0;n<e.length;n++)e[n].geometry.coordinates[0].forEach((function(e){t.push(new BMap.Point(e[0],e[1]))}));return t}},{key:"getBoundaryData",value:function(){var e=this.props.data,t=this.props.map;if(e){this._request={};var n=this,o=new BMap.Boundary,r=[];e.forEach((function(e,t){n._request[e.name]=!1,n._backData[e.name]&&(r=r.concat(n._backData[e.name]),n._request[e.name]=!0)})),i(),e.forEach((function(e,t){n._request[e.name]||n._allRequest[e.name]||(n._allRequest[e.name]=!0,o.get(e.name,(function(t){for(var o=[],a=0;a<t.boundaries.length;a++){for(var s=[],l=t.boundaries[a].split(";"),p=0;p<l.length;p++)s.push(l[p].split(","));o.push({geometry:{type:"Polygon",coordinates:[s]},count:e.count})}n._backData[e.name]=o,r=r.concat(o),n._request[e.name]=!0,i()})))}))}function i(){var e=!0;for(var o in n._request)n._request[o]||(e=!1);if(e){n.dataSet.set(r);var i=n.getPointArrayByDataSetData(r);i.length>0&&!1!==n.props.autoViewport&&t.setViewport(i,n.props.viewportOptions)}}}},{key:"initialize",value:function(){var e=this.props.map;if(e){if(!this.mapvLayer){this.dataSet=new Ye.DataSet([]);var t=this.props.layerOptions||{gradient:{0:"yellow",1:"red"},max:100,globalAlpha:.8,draw:"intensity"};this.mapvLayer=new Ye.baiduMapLayer(e,this.dataSet,t)}this.getBoundaryData()}}}]),t}(Fe.default);Je.default=He;var Xe={},Ge={};function Ke(e){this.options=e||{},this._point=e.point,this._fillColor=e.fillStyle||"#1495ff",this._size=e.size||30,this._lineWidth=void 0===e.lineWidth?2:e.lineWidth,this._strokeStyle=e.strokeStyle||"#ffffff",e.strokeOpacity&&(this._strokeStyle=function(e,t){var n=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,o=e.toLowerCase();if(o&&n.test(o)){if(4===o.length){for(var r="#",i=1;i<4;i+=1)r+=o.slice(i,i+1).concat(o.slice(i,i+1));o=r}var a=[];for(i=1;i<7;i+=2)a.push(parseInt("0x"+o.slice(i,i+2)));return t?(a.push(t),"rgba("+a.join(",")+")"):"rgb("+a.join(",")+")"}return o}(this._strokeStyle,.4))}Object.defineProperty(Ge,"__esModule",{value:!0}),Ke.prototype=new BMap.Overlay,Ke.prototype.initialize=function(e){this._map=e;var t=this._div=document.createElement("div"),n=t.style;n.position="absolute",n.backgroundClip="padding-box",n.zIndex=this.options.zIndex||BMap.Overlay.getZIndex(this._point.lat),n.backgroundColor=this._fillColor,!1!==this.options.isShowShadow&&(n.boxShadow="0 0 5px rgba(0, 0, 0, 0.5)"),n.border=this._lineWidth+"px solid "+this._strokeStyle,n.color="white",n.textShadow=this.options.textShadow||"0px 0px 5px #fff",n.width=this._size+"px",n.boxSizing="content-box",n.borderRadius="30px",n.height=this._size+"px",n.lineHeight=this._size+"px",n.fontSize="12px",n.cursor="pointer",n.textAlign="center",n.MozUserSelect="none",this.options.number&&!1!==this.options.isShowNumber&&(t.innerHTML=this.options.number);var o=this;return t.addEventListener("mouseover",(function(){o.dispatchEvent("mouseover",o.options.number),n.backgroundColor="#1495ff"})),t.addEventListener("mouseout",(function(){o.dispatchEvent("mouseout",o.options.number),n.backgroundColor=o._fillColor})),t.addEventListener("click",(function(){o.dispatchEvent("click",o.options.number)})),t.addEventListener("touchstart",(function(e){e.stopPropagation()})),t.addEventListener("touchmove",(function(e){e.stopPropagation()})),t.addEventListener("touchend",(function(e){e.stopPropagation()})),e.getPanes().markerPane.appendChild(t),t},Ke.prototype.draw=function(){var e=this._map.pointToOverlayPixel(this._point);this._div.style.left=e.x-(this._size+this._lineWidth)/2-1+"px",this._div.style.top=e.y-(this._size+this._lineWidth)/2-2+"px"},Ge.default=Ke,Object.defineProperty(Xe,"__esModule",{value:!0});var $e=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Qe=nt(l),et=r.exports,tt=nt(Ge);function nt(e){return e&&e.__esModule?e:{default:e}}var ot=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),$e(t,[{key:"componentDidUpdate",value:function(e){JSON.stringify(e.data)==JSON.stringify(this.props.data)&&this.map?this.setViewport():this.initialize()}},{key:"componentDidMount",value:function(){this.markers=[],this.initialize()}},{key:"componentWillUnmount",value:function(){this.clearMarkers(),this.textLayer&&(this.textLayer.destroy(),this.textLayer=null),this.animationLayer&&(this.animationLayer.destroy(),this.animationLayer=null)}},{key:"clearMarkers",value:function(){for(var e=0;e<this.markers.length;e++)this.map.removeOverlay(this.markers[e]),this.markers[e]=null;this.markers.length=0}},{key:"initialize",value:function(){var e=this,t=this.props.map;if(t){if(this.map=t,this.clearMarkers(),!this.textLayer){this.dataSet=new et.DataSet([]);var n=this.props.textOptions||{fillStyle:"#666666",shadowBlur:5,shadowColor:"rgba(0, 0, 0, 0.1)",globalAlpha:"0.9",textAlign:"left",offset:{x:this.props.mini?10:15,y:0},coordType:this.props.coordType,avoid:!0,size:12,textKey:"text",draw:"text"};!1!==this.props.isShowText&&(this.textLayer=new et.baiduMapLayer(t,this.dataSet,n))}if(!this.animationLayer&&!0===this.props.animation){var o=this.props.splitList||{};o.other=this.props.fillStyle||"rgba(50, 50, 255, 0.5)";var r={styleType:"stroke",strokeStyle:this.props.fillStyle||"rgba(20, 249, 255, 0.5)",coordType:this.props.coordType,splitList:o,globalAlpha:.4,size:this.props.multiple||this.props.mini?20:26,minSize:this.props.multiple||this.props.mini?10:13,draw:"category"};this.animationLayer=new et.baiduMapAnimationLayer(t,this.dataSet,r)}for(var i=t.getMapType().getProjection(),a=this.props.data,s=[],l=0;l<a.length;l++)if((void 0===this.props.showIndex||this.props.showIndex==l)&&a[l].location){var p=a[l].location.split(",");if(this.props.coordType&&"bd09mc"===this.props.coordType)var u=i.pointToLngLat(new BMap.Pixel(p[0],p[1]));else u=new BMap.Point(p[0],p[1]);var c=a[l].color||this.props.fillStyle||"#1495ff";if(this.props.splitList&&(c=this.props.splitList[a[l].count]?this.props.splitList[a[l].count]:this.props.splitList.other),n={point:u,fillStyle:c,isShowNumber:this.props.isShowNumber,size:26,zIndex:a.length-l,number:l+1},(this.props.multiple||this.props.mini)&&(n.size=20,n.lineWidth=0,(l>=10||this.props.mini)&&(n.isShowNumber=!1,n.size=10,n.strokeStyle=c,n.lineWidth=3,n.strokeOpacity=.4,this.props.miniStyle)))for(var f in this.props.miniStyle)n[f]=this.props.miniStyle[f];var h=new tt.default(n);h.addEventListener("click",(function(t,n){e.props.onClick&&e.props.onClick(n-1)})),h.addEventListener("mouseover",(function(t,n){e.props.onMouseOver&&e.props.onMouseOver(n-1)})),h.addEventListener("mouseout",(function(t,n){e.props.onMouseOut&&e.props.onMouseOut(n-1)})),h.index=l,this.markers.push(h),s.push({geometry:{type:"Point",coordinates:[p[0],p[1]]},count:a[l].count,text:a[l].text})}for(var y=this.markers.length;y--;)t.addOverlay(this.markers[y]);this.props.mini?this.dataSet.set(s):this.dataSet.set(s.splice(0,10)),this.setViewport()}}},{key:"setViewport",value:function(){var e=this.props.map;if(e){for(var t=this.props.data,n=e.getMapType().getProjection(),o=[],r=0;r<t.length;r++)if(t[r].location){var i=t[r].location.split(",");if(this.props.coordType&&"bd09mc"===this.props.coordType)var a=n.pointToLngLat(new BMap.Pixel(i[0],i[1]));else a=new BMap.Point(i[0],i[1]);o.push(a)}o.length>0&&!1!==this.props.autoViewport&&e.setViewport(o,this.props.viewportOptions)}}}],[{key:"defaultProps",get:function(){return{autoViewport:!0}}}]),t}(Qe.default);Xe.default=ot;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});var it=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),at=function(e){return e&&e.__esModule?e:{default:e}}(l),st=r.exports,lt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),it(t,[{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"componentDidUpdate",value:function(e){JSON.stringify(e.data)==JSON.stringify(this.props.data)&&this.map||this.initialize()}},{key:"initialize",value:function(){var e=this.props.map;e&&(this.map=e,this._createLayer||this.createLayers(),this.showDatasets(this.props.data))}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.shadowSet=null,this.circleSet=null,this.textSet=null,this.numSet=null,this.otherSet=null,this.otherShadowSet=null;for(var e=0;e<this.layers.length;e++)this.layers[e].destroy(),this.layers[e]=null}},{key:"showDatasets",value:function(e){var t=this,n=[],o=[],r=[],i=[],a=[],s=[];e.length>0&&(e.forEach((function(e,l){var p=e.location.split(","),u=t.project.pointToLngLat(new BMap.Pixel(p[0],p[1]));s.push(u),l<10?(n.push({geometry:{type:"Point",coordinates:[p[0],p[1]]},count:parseInt(e.count)}),o.push({geometry:{type:"Point",coordinates:[p[0],p[1]]},id:l,count:parseInt(e.count),text:parseInt(l)+1}),r.push({geometry:{type:"Point",coordinates:[p[0],p[1]]},count:parseInt(e.count),text:e.text})):(i.push({geometry:{type:"Point",coordinates:[p[0],p[1]]},id:l,count:parseInt(e.count)}),a.push({geometry:{type:"Point",coordinates:[p[0],p[1]]},count:parseInt(e.count)}))})),this.shadowSet.set(n),this.circleSet.set(o),this.textSet.set(r),this.numSet.set(o),this.otherSet.set(i),this.otherShadowSet.set(a),s.length>0&&!1!==this.props.autoViewport&&map.setViewport(s,self.props.viewportOptions))}},{key:"createLayers",value:function(){this._createLayer=!0;var e=this.map;this.project=e.getMapType().getProjection();var t=this,n=this.shadowSet=new st.DataSet([]),o=this.circleSet=new st.DataSet([]),r=this.textSet=new st.DataSet([]),i=this.numSet=new st.DataSet([]),a=this.otherSet=new st.DataSet([]),s=this.otherShadowSet=new st.DataSet([]);this.layers=[];var l={coordType:"bd09mc",splitList:{4:"#d53938",3:"#fe6261",2:"#ffb02d",other:"#80db69"},shadowBlur:10,size:5,max:30,methods:{click:function(e){e&&t.handleClick(e.id)},mousemove:function(e){a.update((function(e){e.fillStyle=null})),e?(t.isSmallPath=!0,t.props.map.setDefaultCursor("pointer"),a.update((function(e){e.fillStyle="#1495ff"}),{id:e.id})):(t.isSmallPath=!1,t.isSmallPath||t.isBigPath||t.props.map.setDefaultCursor("auto"))}},draw:"category"};this.layers.push(new st.baiduMapLayer(e,s,{splitList:{4:"#d53938",3:"#fe6261",2:"#ffb02d",1:"#80db69"},styleType:"fill",globalAlpha:.4,coordType:"bd09mc",size:8,minSize:5,draw:"category"})),this.layers.push(new st.baiduMapLayer(e,a,l)),!0===this.props.animation&&this.layers.push(new st.baiduMapAnimationLayer(e,n,{splitList:{4:"#d53938",3:"#fe6261",2:"#ffb02d",1:"#80db69"},styleType:"stroke",globalAlpha:.4,coordType:"bd09mc",size:20,minSize:10,draw:"category"}));var p={splitList:{1:"#80db69",4:"#d53938",3:"#fe6261",2:"#ffb02d"},fillStyle:"red",coordType:"bd09mc",size:10,draw:"category",methods:{click:function(e){e&&t.handleClick(e.id)},mousemove:function(e){o.update((function(e){e.fillStyle=null})),e?(t.isBigPath=!0,t.map.setDefaultCursor("pointer"),o.update((function(e){e.fillStyle="#1495ff"}),{id:e.id})):(t.isBigPath=!1,t.isBigPath||t.isSmallPath||t.map.setDefaultCursor("auto"))}}};this.layers.push(new st.baiduMapLayer(e,o,p)),this.layers.push(new st.baiduMapLayer(e,i,{coordType:"bd09mc",draw:"text",font:"13px Arial",fillStyle:"#ffffff",shadowColor:"#ffffff",shadowBlur:10})),this.layers.push(new st.baiduMapLayer(e,r,{coordType:"bd09mc",font:"13px Arial",fillStyle:"#666",shadowColor:"#ffffff",shadowBlur:10,draw:"text",avoid:!0,textAlign:"left",offset:{x:10,y:0}}))}},{key:"render",value:function(){return null}}],[{key:"defaultProps",get:function(){return{autoViewport:!0}}}]),t}(at.default);rt.default=lt;var pt={};Object.defineProperty(pt,"__esModule",{value:!0});var ut=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),ct=function(e){return e&&e.__esModule?e:{default:e}}(l),ft=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ut(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){var e=this.props.map;e&&e.removeTileLayer&&e.removeTileLayer instanceof Function&&this.tileLayer&&(e.removeTileLayer(this.tileLayer),this.tileLayer=null)}},{key:"initialize",value:function(){var e=this.props.map,t=this.props.tilesUrl?this.props.tilesUrl:"http://its.map.baidu.com/traffic/TrafficTileService";if(e){if(!this.tileLayer){this.tileLayer=new BMap.TileLayer({isTransparentPng:!0});var n=Math.round(window.devicePixelRatio||1);n=Math.min(2,n),n=Math.max(1,n),this.tileLayer.getTilesUrl=function(e,o){var r=e.x,i=e.y,a=(new Date).getTime();return t+"?level="+o+"&x="+r+"&y="+i+"&time="+a+"&v=081&scaler="+n}}e.addTileLayer(this.tileLayer)}}}]),t}(ct.default);pt.default=ft;var ht={};Object.defineProperty(ht,"__esModule",{value:!0});var yt={mergeRoadPath:function(e,t){if(e){for(var n=[],o=0;o<e.length;o++)if(0==n.length)n.push(e[o]);else{for(var r=e[o].split(","),i=!1,a=0;a<n.length;a++){var s=n[a].split(",");if(r[0]===s[s.length-2]&&r[1]===s[s.length-1]){var l=r.slice(2);n[a]+=","+l.join(","),i=!0}r[r.length-2]===s[0]&&r[r.length-1]===s[1]&&(l=r.slice(0,r.length-2),n[a]=l.join(",")+","+n[a],i=!0)}!1===i&&n.push(e[o])}return n=this.uniqueRoadPath(n)}},uniqueRoadPath:function(e){for(var t=e.map((function(e){return new dt(e.split(","))})),n=0;n<t.length-1;n++)if(t[n])for(var o=t[n],r=n+1;r<t.length;r++)t[r]&&t[r].isInclude(o)&&delete t[r];var i=[];return t.map((function(e){e&&i.push(e.getPoints().join(","))})),i}};function dt(e){this.polyline=e;for(var t=e[0],n=e[0],o=e[1],r=e[1],i=2;i<e.length;i+=2)t=Math.min(t,e[i]),n=Math.max(n,e[i]),o=Math.min(o,e[i+1]),r=Math.max(r,e[i+1]);this.minX=t,this.maxX=n,this.minY=o,this.maxY=r}dt.prototype.getPoints=function(){return this.polyline},dt.prototype.isInBound=function(e){return e.lng>this.minX&&e.lat>this.minY&&e.lng<this.maxX&&e.lat<this.maxY},dt.prototype.isInclude=function(e){if(!(e.minX>this.minX&&e.minY>this.minY&&e.maxX<this.maxX&&e.maxY<this.maxY))return!1;for(var t=this.getPoints(),n=!0,o=0;o<t.length;o+=2)0==this.isPointOnPolyline({lng:t[o],lat:t[o+1]},e)&&(n=!1);return n},dt.prototype.isPointOnPolyline=function(e,t){var n=t.getPoints();if(!t.isInBound(e))return!1;for(var o=0;o<n.length-2;o++){var r={lng:n[o],lat:n[o+1]},i={lng:n[o+2],lat:n[o+3]};if(e.lng>=Math.min(r.lng,i.lng)&&e.lng<=Math.max(r.lng,i.lng)&&e.lat>=Math.min(r.lat,i.lat)&&e.lat<=Math.max(r.lat,i.lat)){var a=(r.lng-e.lng)*(i.lat-e.lat)-(i.lng-e.lng)*(r.lat-e.lat);if(a<2e-9&&a>-2e-9)return!0}}return!1},ht.default=yt;var bt={};Object.defineProperty(bt,"__esModule",{value:!0});var vt=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),mt=function(e){return e&&e.__esModule?e:{default:e}}(l),gt=r.exports,wt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),vt(t,[{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"componentDidUpdate",value:function(e){var t=JSON.stringify(e.data),n=JSON.stringify(this.props.data),o=JSON.stringify(e.options),r=JSON.stringify(this.props.options);t==n&&this.map&&o==r||this.initialize()}},{key:"initialize",value:function(){var e=this,t=this.props.map;if(t){if(this.map=t,this._createLayer||this.createLayers(),this.props.options.autoViewport){var n=function(t){return"bd09mc"===e.props.options.coordType?o.pointToLngLat(new BMap.Pixel(t[0],t[1])):new BMap.Point(t[0],t[1])},o=t.getMapType().getProjection(),r=[];this.props.data.map((function(e){"Point"===e.geometry.type?r.push(n(e.geometry.coordinates)):"Polygon"===e.geometry.type&&e.geometry.coordinates[0].map((function(e){r.push(n(e))}))})),r.length>0&&t.setViewport(r,this.props.options.viewportOptions)}this.dataSet.set(this.props.data),this.layer.update({options:this.props.options})}}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.layer.destroy(),this.layer=null}},{key:"createLayers",value:function(){this._createLayer=!0;var e=this.map,t=this.dataSet=new gt.DataSet([]);this.layer=new gt.baiduMapLayer(e,t,{enableMassClear:!1})}}],[{key:"defaultProps",get:function(){return{}}}]),t}(mt.default);bt.default=wt;var _t={};Object.defineProperty(_t,"__esModule",{value:!0});var Ot=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Pt=function(e){return e&&e.__esModule?e:{default:e}}(l),kt=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i.exports),Mt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ot(t,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.view&&this.layer.options&&(this.props.view.removeLayer(this.layer),this.layer.destroy(),this.layer=null)}},{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"componentDidUpdate",value:function(e){var t=JSON.stringify(e.data),n=JSON.stringify(this.props.data),o=JSON.stringify(e.options),r=JSON.stringify(this.props.options);this.map&&t===n&&o===r||this.initialize()}},{key:"initialize",value:function(){var e=this,t=this.props.map;if(t){if(this.map=t,this._createLayer||this.createLayers(),this.props.options.autoViewport){var n=t.getMapType().getProjection(),o=function(t){return"bd09mc"===e.props.options.coordType?n.pointToLngLat(new BMap.Pixel(t[0],t[1])):new BMap.Point(t[0],t[1])},r=[];this.props.data.map((function(e){"Point"===e.geometry.type?r.push(o(e.geometry.coordinates)):"LineString"===e.geometry.type?e.geometry.coordinates.map((function(e){r.push(o(e))})):"Polygon"===e.geometry.type&&e.geometry.coordinates[0].map((function(e){r.push(o(e))}))})),r.length>0&&t.setViewport(r,this.props.options.viewportOptions)}this.layer.setData(this.props.data),this.layer.setOptions(this.props.options)}}},{key:"createLayers",value:function(){kt[this.props.type]&&(this._createLayer=!0,this.layer=new kt[this.props.type](this.props.options),this.props.view.addLayer(this.layer))}}],[{key:"defaultProps",get:function(){return{}}}]),t}(Pt.default);_t.default=Mt;var St={};Object.defineProperty(St,"__esModule",{value:!0});var jt=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),xt=Ct(t.exports),Lt=Ct(l),Tt=i.exports;function Ct(e){return e&&e.__esModule?e:{default:e}}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Dt=function(e){function t(){return Et(this,t),zt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),jt(t,[{key:"componentDidMount",value:function(){this.initialize(),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.mapvglView&&(this.mapvglView.destroy(),this.mapvglView=null)}},{key:"componentDidUpdate",value:function(e){this.map&&this.mapvglView||this.initialize()}},{key:"initialize",value:function(){var e=this.props.map;if(e&&(this.map=e,!this.mapvglView)){var t=[],n=this.props.effects;n&&n.length&&n.forEach((function(e){"bloom"===e?t.push(new Tt.BloomEffect):"bright"===e?t.push(new Tt.BrightEffect):"blur"===e&&t.push(new Tt.BlurEffect)})),this.mapvglView=new Tt.View({mapType:"bmap",effects:t,map:e})}}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t&&this.map&&this.mapvglView)return xt.default.Children.map(t,(function(t){if(t)return"string"==typeof t.type?t:xt.default.cloneElement(t,{map:e.map,view:e.mapvglView})}))}},{key:"render",value:function(){return xt.default.createElement("div",{title:"mapvgl view"},this.renderChildren())}}]),t}(Lt.default);St.default=Dt;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});var Rt=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),It=function(e){return e&&e.__esModule?e:{default:e}}(l),Wt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Rt(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.driving&&this.driving.clearResults(),this.driving=null}},{key:"initialize",value:function(){var e=this.props.map;if(e){this.destroy(),this.driving||(this.driving=new BMap.DrivingRoute(e,{renderOptions:{map:e,policy:this.props.policy||BMAP_DRIVING_POLICY_LEAST_TIME,autoViewport:void 0===this.props.autoViewport||this.props.autoViewport,viewportOptions:{zoomFactor:-1}}}));var t=this.props.start,n=this.props.end;t.lng&&t.lat&&(t=new BMap.Point(t.lng,t.lat)),n.lng&&n.lat&&(n=new BMap.Point(n.lng,n.lat)),this.driving.search(t,n)}}}],[{key:"defaultProps",get:function(){return{}}}]),t}(It.default);Bt.default=Wt;var Nt={},Vt={},Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});var At={"#ee5d5b":"0 0","#ff9625":"0 -10px","#6caeca":"0 -20px"},Zt={"#ee5d5b":"#BC3B3A","#ff9625":"#c57f1d","#6caeca":"#5188a5"};function Jt(e){e=e||{},this._point=e.point,this._text=e.name,this._index=e.index,this._numberDirection=e.numberDirection||"left",this._isShowNumber=void 0===e.isShowNumber||e.isShowNumber,this.color=e.color||"#ee5d5b",this.tipStyle=e.tipStyle,this.textStyle=e.textStyle,this.numberStyle=e.numberStyle}Jt.prototype=new BMap.Overlay,Jt.prototype.changeColor=function(e){this._div&&(this._div.style.backgroundColor=e,this._div.style.borderColor=Zt[e],this._arrow.style.backgroundPosition=At[e])},Jt.prototype.initialize=function(e){this._map=e;var t=this._div=document.createElement("div");if(t.style.position="absolute",t.style.zIndex=BMap.Overlay.getZIndex(this._point.lat),t.style.backgroundColor=this.color,t.style.border="1px solid "+Zt[this.color],t.style.color="white",t.style.height="38px",t.style.boxSizing="border-box",t.style.padding="5px",t.style.whiteSpace="nowrap",t.style.MozUserSelect="none",t.style.fontSize="18px",t.style.border="1px solid #a67972",t.style.color="#494947",t.style.background="#fff",t.style.borderRadius="25px",t.style.paddingLeft="30px",this.tipStyle)for(var n in this.tipStyle)t.style[n]=this.tipStyle[n];var o=this._span=document.createElement("span");if(t.appendChild(o),o.appendChild(document.createTextNode(this._text)),this.textStyle)for(var n in this.textStyle)o.style[n]=this.textStyle[n];var r=this._arrow=document.createElement("div");r.style.backgroundPosition=At[this.color],r.style.position="absolute",r.style.width="11px",r.style.height="10px",r.style.top="26px",r.style.left="10px",r.style.overflow="hidden",t.appendChild(r);var i=this._number=document.createElement("div");if(i.style.background=this.color||"#f15e5c",i.style.color="#fff",i.style.position="absolute",i.style.top="3px",i.style.position="absolute",i.style.textAlign="center",i.style.height="30px",i.style.width="30px",i.style.lineHeight="30px",i.style.borderRadius="30px",this.numberStyle)for(var n in this.numberStyle)i.style[n]=this.numberStyle[n];return!1===this._isShowNumber&&(i.style.display="none"),this.renderDirection(),i.innerHTML=this._index,t.appendChild(i),e.getPanes().labelPane.appendChild(t),t},Jt.prototype.setNumberLeft=function(){this._numberDirection="left",this.renderDirection()},Jt.prototype.setNumberRight=function(){this._numberDirection="right",this.renderDirection()},Jt.prototype.renderDirection=function(){var e=this.tipStyle&&this.tipStyle.paddingLeft,t=this.tipStyle&&this.tipStyle.paddingRight,n=this.numberStyle&&this.numberStyle.left,o=this.numberStyle&&this.numberStyle.right;"left"==this._numberDirection?(this._isShowNumber?this._div.style.paddingLeft=e||"38px":this._div.style.paddingLeft=e||"8px",this._div.style.paddingRight=t||"8px",this._number.style.left=n||"5px",this._number.style.right=this.numberStyle&&this.numberStyle.right||"initial"):(this._div.style.paddingLeft=e||"8px",this._isShowNumber?this._div.style.paddingRight=t||"38px":this._div.style.paddingRight=t||"8px",this._number.style.left=n||"initial",this._number.style.right=o||"5px")},Jt.prototype.hideNumber=function(){this._isShowNumber=!1,this._number.style.display=this.numberStyle.display||"none",this.renderDirection()},Jt.prototype.setPosition=function(e){this._point=e,this.draw()},Jt.prototype.hideArrow=function(){this._arrow.style.display="none"},Jt.prototype.draw=function(){var e=this._map;this._span.innerHTML=this._text;var t=e.pointToOverlayPixel(this._point);this._div.style.left=t.x+5+"px",this._div.style.top=t.y-20+"px"},Ut.default=Jt,Object.defineProperty(Vt,"__esModule",{value:!0});var qt=function(e){return e&&e.__esModule?e:{default:e}}(Ut);function Ft(e){this.options=e;var t=e.map,n=e.point;this.point=n;var o=void 0===e.draggable||e.draggable;this.map=t;var r=this.tip=new qt.default(e),i=new BMap.Icon("//huiyan.baidu.com/github/tools/gis-drawing/static/images/drag.png",new BMap.Size(25,25),{imageSize:new BMap.Size(25,25)}),a=this.marker=new BMap.Marker(this.point);a.setIcon(i),a.setShadow(i);var s=this;o&&(a.addEventListener("dragging",(function(){s.point=a.point,r.setPosition(a.point),e.change&&e.change()})),a.addEventListener("dragend",(function(){e.changePosition&&e.changePosition(s.point)})),a.enableDragging())}Ft.prototype.show=function(){this.map.addOverlay(this.marker),this.map.addOverlay(this.tip),!1===this.options.isShowTipArrow&&this.tip.hideArrow()},Ft.prototype.hide=function(){this.map.removeOverlay(this.marker),this.map.removeOverlay(this.tip)},Ft.prototype.setNumberLeft=function(){this.tip.setNumberLeft()},Ft.prototype.setNumberRight=function(){this.tip.setNumberRight()},Ft.prototype.hideNumber=function(){this.tip.hideNumber()},Vt.default=Ft,Object.defineProperty(Nt,"__esModule",{value:!0});var Yt=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Gt(t.exports);var Ht=Gt(l),Xt=Gt(Vt);function Gt(e){return e&&e.__esModule?e:{default:e}}var Kt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.tips=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Yt(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.tips.forEach((function(e){e.hide()})),this.tips=[]}},{key:"initialize",value:function(){var e=this,t=this.props.map;if(t&&(this.destroy(),this.props.data)){var n=[];this.props.data.forEach((function(o,r){var i=new Xt.default({isShowTipArrow:!0,changePosition:function(t){e.props.changePosition&&e.props.changePosition(t,r)},map:t,numberDirection:o.numberDirection,isShowNumber:o.isShowNumber,point:o.point,name:o.name,index:void 0!==o.index?o.index:r+1,color:o.color,tipStyle:o.tipStyle,textStyle:o.textStyle,numberStyle:o.numberStyle,draggable:o.draggable,change:function(){}});n.push(o.point),i.show(),e.tips.push(i)})),this.props.autoViewport&&t.setViewport(n,this.props.viewportOptions)}}}],[{key:"defaultProps",get:function(){return{}}}]),t}(Ht.default);Nt.default=Kt;var $t={};Object.defineProperty($t,"__esModule",{value:!0});var Qt=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();nn(t.exports);var en=nn(l),tn=r.exports;function nn(e){return e&&e.__esModule?e:{default:e}}var on=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Qt(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.lineLayer.destroy(),this.lineLayer=null,this.pointLayer.destroy(),this.pointLayer=null,this.textLayer.destroy(),this.textLayer=null,this.animationLayer&&(this.animationLayer.destroy(),this.animationLayer=null)}},{key:"createLayers",value:function(){this._createLayer=!0;var e=this.map;this.lineDataSet=new tn.DataSet([]),this.lineLayer=new tn.baiduMapLayer(e,this.lineDataSet,{}),this.pointDataSet=new tn.DataSet([]),this.pointLayer=new tn.baiduMapLayer(e,this.pointDataSet,{}),this.textLayer=new tn.baiduMapLayer(e,this.pointDataSet,{}),this.props.enableAnimation&&(this.animationLayer=new tn.baiduMapAnimationLayer(e,this.lineDataSet,{}))}},{key:"initialize",value:function(){var e=this,t=this.map=this.props.map;if(t){this._createLayer||this.createLayers();var n=[],o=[];if(this.props.data){var r=[],i=t.getMapType().getProjection();this.props.data.forEach((function(a,s){var l=a.from.point||tn.utilCityCenter.getCenterByCityName(a.from.city),p=a.to.point||tn.utilCityCenter.getCenterByCityName(a.to.city),u=tn.utilCurve.getPoints([l,p]);"bd09mc"===e.props.coordType?(r.push(i.pointToLngLat(new BMap.Pixel(l.lng,l.lat))),r.push(i.pointToLngLat(new BMap.Pixel(p.lng,p.lat)))):(r.push(l),r.push(p)),n.push({strokeStyle:a.color,geometry:{type:"LineString",coordinates:u}}),!1!==e.props.showToPoint&&o.push({fillStyle:a.color,text:a.to.name||a.to.city,geometry:{type:"Point",coordinates:[p.lng,p.lat]}}),!1!==e.props.showFromPoint&&o.push({fillStyle:a.color,text:a.from.name||a.from.city,geometry:{type:"Point",coordinates:[l.lng,l.lat]}}),r.length>0&&!1!==e.props.autoViewport&&t.setViewport(r,e.props.viewportOptions)}))}this.lineDataSet.set(n),this.lineLayer.update({options:this.props.lineOptions||{draw:"simple",strokeStyle:"#5E87DB",lineWidth:3}}),this.pointDataSet.set(o),this.pointLayer.update({options:this.props.pointOptions||{coordType:this.props.coordType,draw:"simple",fillStyle:"#5E87DB",size:5}}),this.textLayer.update({options:this.props.textOptions||{coordType:this.props.coordType,draw:"text",font:"18px Arial",offset:{x:0,y:12},fillStyle:"#333",size:12}}),this.props.enableAnimation?this.animationLayer.update({options:this.props.animationOptions||{coordType:this.props.coordType,fillStyle:"rgba(255, 250, 250, 0.9)",lineWidth:0,size:4,animateTime:50,draw:"simple"}}):this.animationLayer&&this.animationLayer.hide()}}}],[{key:"defaultProps",get:function(){return{}}}]),t}(en.default);$t.default=on;var rn={};Object.defineProperty(rn,"__esModule",{value:!0});var an=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();pn(t.exports);var sn=pn(l),ln=r.exports;function pn(e){return e&&e.__esModule?e:{default:e}}var un=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),an(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.lineLayer.destroy(),this.lineLayer=null,this.pointLayer.destroy(),this.pointLayer=null,this.textLayer.destroy(),this.textLayer=null}},{key:"createLayers",value:function(){this._createLayer=!0;var e=this.map;this.lineDataSet=new ln.DataSet([]),this.lineLayer=new ln.baiduMapLayer(e,this.lineDataSet,{}),this.pointDataSet=new ln.DataSet([]),this.pointLayer=new ln.baiduMapLayer(e,this.pointDataSet,{}),this.textLayer=new ln.baiduMapLayer(e,this.pointDataSet,{})}},{key:"initialize",value:function(){var e=this,t=this.map=this.props.map;if(t){this._createLayer||this.createLayers();var n=[],o=[],r=Boolean("curve"===this.props.type);if(this.props.data){var i=[],a=t.getMapType().getProjection();this.props.data.forEach((function(s,l){var p=s.from.point||ln.utilCityCenter.getCenterByCityName(s.from.city),u=s.to.point||ln.utilCityCenter.getCenterByCityName(s.to.city),c=ln.utilCurve.getPoints([p,u]);"bd09mc"===e.props.coordType?(i.push(a.pointToLngLat(new BMap.Pixel(p.lng,p.lat))),i.push(a.pointToLngLat(new BMap.Pixel(u.lng,u.lat)))):(i.push(p),i.push(u));var f=new ln.utilDataRangeIntensity({maxSize:10,minSize:1,min:e.props.min||0,max:e.props.max||1e3}).getSize(s.count);n.push({strokeStyle:s.color,geometry:{type:"LineString",coordinates:r?c:[[p.lng,p.lat],[u.lng,u.lat]]},count:s.count,lineWidth:f}),!1!==e.props.showToPoint&&o.push({fillStyle:s.color,text:s.to.name||s.to.city,geometry:{type:"Point",coordinates:[u.lng,u.lat]}}),!1!==e.props.showFromPoint&&o.push({fillStyle:s.color,text:s.from.name||s.from.city,geometry:{type:"Point",coordinates:[p.lng,p.lat]}}),i.length>0&&!1!==e.props.autoViewport&&t.setViewport(i,e.props.viewportOptions)}))}this.lineDataSet.set(n),this.lineLayer.update({options:this.props.lineOptions||{coordType:this.props.coordType,draw:"simple",strokeStyle:"#5E87DB",globalCompositeOperation:"lighter",shadowColor:"rgba(255, 255, 255, 0.5)",shadowBlur:60,lineWidth:2}}),this.pointDataSet.set(o),this.pointLayer.update({options:this.props.pointOptions||{coordType:this.props.coordType,draw:"simple",fillStyle:"#5E87DB",size:5,shadowColor:"#5E87DB",shadowBlur:20}}),this.textLayer.update({options:this.props.textOptions||{coordType:this.props.coordType,draw:"text",font:"18px Arial",offset:{x:0,y:12},fillStyle:"#333",size:12}})}}}],[{key:"defaultProps",get:function(){return{}}}]),t}(sn.default);rn.default=un;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});var fn=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),hn=function(e){return e&&e.__esModule?e:{default:e}}(t.exports);function yn(e,t){var n=null;return function(){var o=this,r=arguments;n&&clearTimeout(n),n=setTimeout((function(){e.apply(o,r)}),t)}}function dn(e,t){var n=void 0,o=arguments,r=void 0;return function i(){var a=this,s=Date.now();r||(r=s),n&&clearTimeout(n),s-r>=t?(e.apply(a,o),r=s):n=setTimeout((function(){i.apply(a,o)}),50)}}var bn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.map=n.props.map,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),fn(t,[{key:"componentDidMount",value:function(){this.props.onZoomend&&this._bindZoomendEvent(),this.props.onDragend&&this._bindDragendEvent()}},{key:"componentWillUnmount",value:function(){var e=this.map;this.props.onZoomend&&e.removeEventListener("zoomend",this.onZoomend),this.props.onDragend&&e.removeEventListener("dragend",this.onDragend)}},{key:"_bindZoomendEvent",value:function(){var e=this.map,t=this.props,n=t.onZoomend,o=t.eventType,r=t.delay;this.onZoomend="debounce"===o?yn(n,r):"throttle"===o?dn(n,r):n,e.addEventListener("zoomend",this.onZoomend)}},{key:"_bindDragendEvent",value:function(){var e=this.map,t=this.props,n=t.onDragend,o=t.eventType,r=t.delay;this.onDragend="debounce"===o?yn(n,r):"throttle"===o?dn(n,r):n,e.addEventListener("dragend",this.onDragend)}},{key:"render",value:function(){return null}}],[{key:"defaultProps",get:function(){return{eventType:"debounce",delay:500}}}]),t}(hn.default.Component);cn.default=bn;var vn={};Object.defineProperty(vn,"__esModule",{value:!0});var mn=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),gn=wn(t.exports);function wn(e){return e&&e.__esModule?e:{default:e}}function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function On(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Pn=function(e){function t(){return _n(this,t),On(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),mn(t,[{key:"componentDidMount",value:function(){var e=this;new BMap.Autocomplete({input:"suggestId"}).addEventListener("onconfirm",(function(t){e.props.onConfirm&&e.props.onConfirm(t)}))}},{key:"render",value:function(){return gn.default.createElement("div",null,gn.default.createElement("input",{style:this.props.style,id:"suggestId"}))}}]),t}(wn(l).default);vn.default=Pn,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=s;Object.defineProperty(e,"Map",{enumerable:!0,get:function(){return C(t).default}});var n=m;Object.defineProperty(e,"Marker",{enumerable:!0,get:function(){return C(n).default}});var o=g;Object.defineProperty(e,"MarkerOrderTip",{enumerable:!0,get:function(){return C(o).default}});var r=V;Object.defineProperty(e,"InfoWindow",{enumerable:!0,get:function(){return C(r).default}});var i=q;Object.defineProperty(e,"NavigationControl",{enumerable:!0,get:function(){return C(i).default}});var a=Q;Object.defineProperty(e,"OverviewMapControl",{enumerable:!0,get:function(){return C(a).default}});var l=oe;Object.defineProperty(e,"ScaleControl",{enumerable:!0,get:function(){return C(l).default}});var p=se;Object.defineProperty(e,"MapTypeControl",{enumerable:!0,get:function(){return C(p).default}});var u=ce;Object.defineProperty(e,"PanoramaControl",{enumerable:!0,get:function(){return C(u).default}});var c=de;Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return C(c).default}});var f=Pe;Object.defineProperty(e,"Polyline",{enumerable:!0,get:function(){return C(f).default}});var h=je;Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return C(h).default}});var y=Ce;Object.defineProperty(e,"Road",{enumerable:!0,get:function(){return C(y).default}});var d=Je;Object.defineProperty(e,"Boundary",{enumerable:!0,get:function(){return C(d).default}});var b=Xe;Object.defineProperty(e,"MarkerList",{enumerable:!0,get:function(){return C(b).default}});var v=rt;Object.defineProperty(e,"MapvMarkerList",{enumerable:!0,get:function(){return C(v).default}});var w=pt;Object.defineProperty(e,"TrafficLayer",{enumerable:!0,get:function(){return C(w).default}});var _=ht;Object.defineProperty(e,"Merge",{enumerable:!0,get:function(){return C(_).default}});var O=bt;Object.defineProperty(e,"MapvLayer",{enumerable:!0,get:function(){return C(O).default}});var P=_t;Object.defineProperty(e,"MapvglLayer",{enumerable:!0,get:function(){return C(P).default}});var k=St;Object.defineProperty(e,"MapvglView",{enumerable:!0,get:function(){return C(k).default}});var M=Bt;Object.defineProperty(e,"DrivingRoute",{enumerable:!0,get:function(){return C(M).default}});var S=Nt;Object.defineProperty(e,"PointLabel",{enumerable:!0,get:function(){return C(S).default}});var j=$t;Object.defineProperty(e,"Arc",{enumerable:!0,get:function(){return C(j).default}});var x=rn;Object.defineProperty(e,"ThickRay",{enumerable:!0,get:function(){return C(x).default}});var L=cn;Object.defineProperty(e,"MapListener",{enumerable:!0,get:function(){return C(L).default}});var T=vn;function C(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"Autocomplete",{enumerable:!0,get:function(){return C(T).default}})}(a)}}}));
