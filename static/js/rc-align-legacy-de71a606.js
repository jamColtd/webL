System.register(["./@babel-legacy-55346a6e.js","./react-legacy-700da723.js","./rc-util-legacy-608bab30.js","./dom-align-legacy-a4f0c8ab.js","./lodash-legacy-a5312b7c.js","./resize-observer-polyfill-legacy-43bd0a53.js"],(function(e){"use strict";var n,t,r,c,u,i,o,l,a,f,s;return{setters:[function(e){n=e.c,t=e._},function(e){r=e.R},function(e){c=e.h,u=e.i,i=e.e,o=e.j},function(e){l=e.a,a=e.b},function(e){f=e.i},function(e){s=e.i}],execute:function(){function g(e,t){var r=null,c=null,u=new s((function(e){var u=n(e,1)[0].target;if(document.documentElement.contains(u)){var i=u.getBoundingClientRect(),o=i.width,l=i.height,a=Math.floor(o),f=Math.floor(l);r===a&&c===f||Promise.resolve().then((function(){t({width:a,height:f})})),r=a,c=f}}));return e&&u.observe(e),function(){u.disconnect()}}function d(e){return"function"!=typeof e?null:e()}function m(e){return"object"===t(e)&&e?e:null}var v=function(e,t){var s=e.children,v=e.disabled,b=e.target,h=e.align,p=e.onAlign,w=e.monitorWindowResize,R=e.monitorBufferTime,y=void 0===R?0:R,E=r.useRef({}),j=r.useRef(),X=r.Children.only(s),Y=r.useRef({});Y.current.disabled=v,Y.current.target=b,Y.current.align=h,Y.current.onAlign=p;var A=function(e,n){var t=r.useRef(!1),c=r.useRef(null);function u(){window.clearTimeout(c.current)}return[function r(i){if(u(),t.current&&!0!==i)c.current=window.setTimeout((function(){t.current=!1,r()}),n);else{if(!1===e())return;t.current=!0,c.current=window.setTimeout((function(){t.current=!1}),n)}},function(){t.current=!1,u()}]}((function(){var e=Y.current,n=e.disabled,t=e.target,r=e.align,u=e.onAlign;if(!n&&t){var i,f=j.current,s=d(t),g=m(t);E.current.element=s,E.current.point=g,E.current.align=r;var v=document.activeElement;return s&&o(s)?i=l(f,s,r):g&&(i=a(f,g,r)),function(e,n){e!==document.activeElement&&c(n,e)&&"function"==typeof e.focus&&e.focus()}(v,f),u&&i&&u(f,i),!0}return!1}),y),T=n(A,2),z=T[0],B=T[1],C=r.useRef({cancel:function(){}}),M=r.useRef({cancel:function(){}});r.useEffect((function(){var e,n,t=d(b),r=m(b);j.current!==M.current.element&&(M.current.cancel(),M.current.element=j.current,M.current.cancel=g(j.current,z)),E.current.element===t&&((e=E.current.point)===(n=r)||e&&n&&("pageX"in n&&"pageY"in n?e.pageX===n.pageX&&e.pageY===n.pageY:"clientX"in n&&"clientY"in n&&e.clientX===n.clientX&&e.clientY===n.clientY))&&f(E.current.align,h)||(z(),C.current.element!==t&&(C.current.cancel(),C.current.element=t,C.current.cancel=g(t,z)))})),r.useEffect((function(){v?B():z()}),[v]);var x=r.useRef(null);return r.useEffect((function(){w?x.current||(x.current=u(window,"resize",z)):x.current&&(x.current.remove(),x.current=null)}),[w]),r.useEffect((function(){return function(){C.current.cancel(),M.current.cancel(),x.current&&x.current.remove(),B()}}),[]),r.useImperativeHandle(t,(function(){return{forceAlign:function(){return z(!0)}}})),r.isValidElement(X)&&(X=r.cloneElement(X,{ref:i(X.ref,j)})),X};e("R",r.forwardRef(v)).displayName="Align"}}}));
