import{R as A,r as d}from"./react-58122654.js";import{i as F,g as B,d as k,c as H}from"./@babel-ee6b9e1a.js";function I(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function L(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I(Object(t),!0).forEach(function(r){k(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var x={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},R,K=A.createContext();function M(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};x=L(L({},x),n)}function W(){return x}var $=function(){function n(){B(this,n),this.usedNamespaces={}}return F(n,[{key:"addUsedNamespaces",value:function(t){var r=this;t.forEach(function(s){r.usedNamespaces[s]||(r.usedNamespaces[s]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),n}();function J(n){R=n}function V(){return R}var X={type:"3rdParty",init:function(e){M(e.options.react),J(e)}};function Y(){if(console&&console.warn){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];typeof t[0]=="string"&&(t[0]="react-i18next:: ".concat(t[0])),(n=console).warn.apply(n,t)}}var D={};function P(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&D[e[0]]||(typeof e[0]=="string"&&(D[e[0]]=new Date),Y.apply(void 0,e))}function T(n,e,t){n.loadNamespaces(e,function(){if(n.isInitialized)t();else{var r=function s(){setTimeout(function(){n.off("initialized",s)},0),t()};n.on("initialized",r)}})}function _(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.languages[0],s=e.options?e.options.fallbackLng:!1,f=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var a=function(p,c){var l=e.services.backendConnector.state["".concat(p,"|").concat(c)];return l===-1||l===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(r,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(r,n)&&(!s||a(f,n)))}function q(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return P("i18n.languages were undefined or empty",e.languages),!0;var r=e.options.ignoreJSONStructure!==void 0;return r?e.hasLoadedNamespace(n,{precheck:function(f,a){if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&f.services.backendConnector.backend&&f.isLanguageChangingTo&&!a(f.isLanguageChangingTo,n))return!1}}):_(n,e,t)}function E(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function N(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E(Object(t),!0).forEach(function(r){k(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Z(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.i18n,r=d.exports.useContext(K)||{},s=r.i18n,f=r.defaultNS,a=t||s||V();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new $),!a){P("You will need to pass in an i18next instance by using initReactI18next");var O=function(u){return Array.isArray(u)?u[u.length-1]:u},p=[O,{},!1];return p.t=O,p.i18n={},p.ready=!1,p}a.options.react&&a.options.react.wait!==void 0&&P("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=N(N(N({},W()),a.options.react),e),l=c.useSuspense,z=c.keyPrefix,i=n||f||a.options&&a.options.defaultNS;i=typeof i=="string"?[i]:i||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(i);var g=(a.isInitialized||a.initializedStoreOnce)&&i.every(function(o){return q(o,a,c)});function b(){return a.getFixedT(null,c.nsMode==="fallback"?i:i[0],z)}var U=d.exports.useState(b),S=H(U,2),j=S[0],y=S[1],m=d.exports.useRef(!0);d.exports.useEffect(function(){var o=c.bindI18n,u=c.bindI18nStore;m.current=!0,!g&&!l&&T(a,i,function(){m.current&&y(b)});function h(){m.current&&y(b)}return o&&a&&a.on(o,h),u&&a&&a.store.on(u,h),function(){m.current=!1,o&&a&&o.split(" ").forEach(function(w){return a.off(w,h)}),u&&a&&u.split(" ").forEach(function(w){return a.store.off(w,h)})}},[a,i.join()]);var C=d.exports.useRef(!0);d.exports.useEffect(function(){m.current&&!C.current&&y(b),C.current=!1},[a]);var v=[j,a,g];if(v.t=j,v.i18n=a,v.ready=g,g||!g&&!l)return v;throw new Promise(function(o){T(a,i,function(){o()})})}export{X as i,Z as u};
